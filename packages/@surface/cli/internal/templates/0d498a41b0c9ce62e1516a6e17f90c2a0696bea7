"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[0],{5:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s="",i=void 0!==t[5];return t[4]&&(s+="@supports (".concat(t[4],") {")),t[2]&&(s+="@media ".concat(t[2]," {")),i&&(s+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),s+=e(t),i&&(s+="}"),t[2]&&(s+="}"),t[4]&&(s+="}"),s})).join("")},t.i=function(e,s,i,r,n){"string"==typeof e&&(e=[[null,e,void 0]]);var u={};if(i)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(u[o]=!0)}for(var h=0;h<e.length;h++){var c=[].concat(e[h]);i&&u[c[0]]||(void 0!==n&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=n),s&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=s):c[2]=s),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},4:e=>{e.exports=function(e){var t=e[1],s=e[3];if(!s)return t;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),n="/*# ".concat(r," */"),u=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[t].concat(u).concat([n]).join("\n")}return[t].join("\n")}},33:(e,t,s)=>{s.d(t,{Z:()=>tt});var i,r=s(19),n=s(18);!function(e){e[e.Attribute=0]="Attribute",e[e.Choice=1]="Choice",e[e.Comment=2]="Comment",e[e.Directive=3]="Directive",e[e.Element=4]="Element",e[e.Event=5]="Event",e[e.Fragment=6]="Fragment",e[e.Injection=7]="Injection",e[e.Interpolation=8]="Interpolation",e[e.Loop=9]="Loop",e[e.Oneway=10]="Oneway",e[e.Placeholder=11]="Placeholder",e[e.Text=12]="Text",e[e.TextInterpolation=13]="TextInterpolation",e[e.Twoway=14]="Twoway"}(i||(i={}));const u=i;var a,o=s(12),h=s(13);function c(e,t){for(const s of t)if(e.includes(s))return!0;return!1}!function(e){e[e.ArrayExpression=0]="ArrayExpression",e[e.ArrayPattern=1]="ArrayPattern",e[e.ArrowFunctionExpression=2]="ArrowFunctionExpression",e[e.AssignmentExpression=3]="AssignmentExpression",e[e.AssignmentPattern=4]="AssignmentPattern",e[e.AssignmentProperty=5]="AssignmentProperty",e[e.BinaryExpression=6]="BinaryExpression",e[e.CallExpression=7]="CallExpression",e[e.ChainExpression=8]="ChainExpression",e[e.ConditionalExpression=9]="ConditionalExpression",e[e.Identifier=10]="Identifier",e[e.Literal=11]="Literal",e[e.LogicalExpression=12]="LogicalExpression",e[e.MemberExpression=13]="MemberExpression",e[e.NewExpression=14]="NewExpression",e[e.ObjectExpression=15]="ObjectExpression",e[e.ObjectPattern=16]="ObjectPattern",e[e.ParenthesizedExpression=17]="ParenthesizedExpression",e[e.Property=18]="Property",e[e.RegExpLiteral=19]="RegExpLiteral",e[e.RestElement=20]="RestElement",e[e.SequenceExpression=21]="SequenceExpression",e[e.SpreadElement=22]="SpreadElement",e[e.TaggedTemplateExpression=23]="TaggedTemplateExpression",e[e.TemplateElement=24]="TemplateElement",e[e.TemplateLiteral=25]="TemplateLiteral",e[e.ThisExpression=26]="ThisExpression",e[e.UnaryExpression=27]="UnaryExpression",e[e.UpdateExpression=28]="UpdateExpression"}(a||(a={}));const l=a;class p{static isArrayExpression(e){return e.type==l.ArrayExpression}static isArrayPattern(e){return e.type==l.ArrayPattern}static isArrowFunctionExpression(e){return e.type==l.ArrowFunctionExpression}static isAssignmentExpression(e){return e.type==l.AssignmentExpression}static isAssignmentProperty(e){return e.type==l.AssignmentProperty}static isAssignmentPattern(e){return e.type==l.AssignmentPattern}static isBinaryExpression(e){return e.type==l.BinaryExpression}static isCallExpression(e){return e.type==l.CallExpression}static isChainExpression(e){return e.type==l.ChainExpression}static isConditionalExpression(e){return e.type==l.ConditionalExpression}static isIdentifier(e){return e.type==l.Identifier}static isLiteral(e){return e.type==l.Literal}static isLogicalExpression(e){return e.type==l.LogicalExpression}static isMemberExpression(e){return e.type==l.MemberExpression}static isNewExpression(e){return e.type==l.NewExpression}static isObjectExpression(e){return e.type==l.ObjectExpression}static isObjectPattern(e){return e.type==l.ObjectPattern}static isParenthesizedExpression(e){return e.type==l.ParenthesizedExpression}static isProperty(e){return e.type==l.Property}static isRegExpLiteral(e){return e.type==l.RegExpLiteral}static isRestElement(e){return e.type==l.RestElement}static isSequenceExpression(e){return e.type==l.SequenceExpression}static isSpreadElement(e){return e.type==l.SpreadElement}static isTaggedTemplateExpression(e){return e.type==l.TaggedTemplateExpression}static isTemplateLiteral(e){return e.type==l.TemplateLiteral}static isTemplateElement(e){return e.type==l.TemplateElement}static isThisExpression(e){return e.type==l.ThisExpression}static isUnaryExpression(e){return e.type==l.UnaryExpression}static isUpdateExpression(e){return e.type==l.UpdateExpression}}function D(e,t){if(p.isMemberExpression(e)){const s=p.isIdentifier(e.property)&&!e.computed?e.property.name:`${e.property.evaluate(t)}`,i=e.object.evaluate(t);return[i,i[s]]}return[void 0,e.evaluate(t)]}function d(e,t){const s=new Set,i=e=>{if(p.isIdentifier(e)){if(s.has(e.name))return!0;s.add(e.name)}else{if(p.isAssignmentPattern(e))return i(e.left);if(p.isArrayPattern(e)){for(const t of e.elements)if(t&&i(t))return!0}else if(p.isObjectPattern(e)){for(const t of e.properties)if(p.isAssignmentProperty(t)){if(i(t.value))return!0}else if(i(t.argument))return!0}else if(p.isRestElement(e))return i(e.argument)}return!1};if(t){for(let s=0;s<e.length;s++)if(i(e[s]))return{result:!0,token:t[s]};return{result:!1,token:null}}return e.some(i)}class m{constructor(e,t,s,i){this._key=e,this._value=t,this._computed=s,this._shorthand=i}get computed(){return this._computed}set computed(e){this._computed=e}get key(){return this._key}set key(e){this._key=e}get shorthand(){return this._shorthand}set shorthand(e){this._shorthand=e}get value(){return this._value}set value(e){this._value=e}get type(){return l.AssignmentProperty}clone(){return new m(this.key.clone(),this.value.clone(),this.computed,this.shorthand)}toString(){return this.shorthand?this.value.toString():(p.isIdentifier(this.key)||p.isLiteral(this.key)&&this.key.value,`${this.computed?`[${this.key}]`:this.key}: ${this.value}`)}}class E{constructor(e,t,s,i){this._key=e,this._value=t,this._computed=s,this._shorthand=i}get computed(){return this._computed}set computed(e){this._computed=e}get key(){return this._key}set key(e){this._key=e}get shorthand(){return this._shorthand}set shorthand(e){this._shorthand=e}get value(){return this._value}set value(e){this._value=e}get type(){return l.Property}clone(){return new E(this.key.clone(),this.value.clone(),this.computed,this.shorthand)}toString(){return this.shorthand?this.value.toString():(p.isIdentifier(this.key)||p.isLiteral(this.key)&&this.key.value,`${this.computed?`[${this.key}]`:this.key}: ${this.value}`)}}class x{constructor(e){this._argument=e}get argument(){return this._argument}set argument(e){this._argument=e}get type(){return l.SpreadElement}clone(){return new x(this.argument.clone())}toString(){return`...${this.argument}`}}class A{constructor(e,t,s){this._cooked=e,this._raw=t,this._tail=s}get cooked(){return this._cooked}set cooked(e){this._cooked=e}get raw(){return this._raw}set raw(e){this._raw=e}get tail(){return this._tail}set tail(e){this._tail=e}get type(){return l.TemplateElement}clone(){return new A(this.cooked,this.raw,this.tail)}}class f{constructor(e){this._elements=e}get elements(){return this._elements}set elements(e){this._elements=e}get type(){return l.ArrayExpression}clone(){return new f(this.elements.map((e=>e?.clone()??null)))}evaluate(e){const t=[];for(const s of this.elements)s?p.isSpreadElement(s)?t.push(...s.argument.evaluate(e)):t.push(s.evaluate(e)):t.push(void 0);return t}toString(){return`[${this.elements.map((e=>(e??"undefined").toString())).join(", ")}]`}}var C=s(15);class F{constructor(e,t){this._parameters=e,this._body=t}get body(){return this._body}set body(e){this._body=e}get parameters(){return this._parameters}set parameters(e){this._parameters=e}get type(){return l.ArrowFunctionExpression}resolveParameters(e,t){const s={};let i=0;for(const r of this.parameters)p.isRestElement(r)?Object.assign(s,r.evaluate(e,t.slice(i))):Object.assign(s,r.evaluate(e,t[i])),i++;return s}clone(){return new F(this.parameters.map((e=>e.clone())),this.body.clone())}evaluate(e){const t=(...t)=>this.body.evaluate((0,C.tL)(this.resolveParameters(e,t),e));return t.toString=()=>this.toString(),t}toString(){return`(${this.parameters.map((e=>e.toString())).join(", ")}) => ${this.body}`}}const g={"%=":(e,t,s)=>e[t]%=s,"&&=":(e,t,s)=>e[t]&&(e[t]=s),"&=":(e,t,s)=>e[t]&=s,"**=":(e,t,s)=>e[t]**=s,"*=":(e,t,s)=>e[t]*=s,"+=":(e,t,s)=>e[t]+=s,"-=":(e,t,s)=>e[t]-=s,"/=":(e,t,s)=>e[t]/=s,"<<=":(e,t,s)=>e[t]<<=s,"=":(e,t,s)=>e[t]=s,">>=":(e,t,s)=>e[t]>>=s,">>>=":(e,t,s)=>e[t]>>>=s,"??=":(e,t,s)=>e[t]??(e[t]=s),"^=":(e,t,s)=>e[t]^=s,"|=":(e,t,s)=>e[t]|=s,"||=":(e,t,s)=>e[t]||(e[t]=s)};class v{constructor(e,t,s){this._left=e,this._right=t,this._operator=s,this.operation=g[s]}get left(){return this._left}set left(e){this._left=e}get operator(){return this._operator}set operator(e){this._operator=e}get right(){return this._right}set right(e){this._right=e}get type(){return l.AssignmentExpression}clone(){return new v(this.left.clone(),this.right.clone(),this.operator)}evaluate(e){if(p.isIdentifier(this.left))return this.operation(e,this.left.name,this.right.evaluate(e));const t=this.left.object.evaluate(e),s=p.isIdentifier(this.left.property)&&!this.left.computed?this.left.property.name:this.left.property.evaluate(e);return this.operation(t,s,this.right.evaluate(e))}toString(){return`${this.left} ${this.operator} ${this.right}`}}const y={"!=":(e,t,s)=>e.evaluate(s)!=t.evaluate(s),"!==":(e,t,s)=>e.evaluate(s)!==t.evaluate(s),"%":(e,t,s)=>e.evaluate(s)%t.evaluate(s),"&":(e,t,s)=>e.evaluate(s)&t.evaluate(s),"*":(e,t,s)=>e.evaluate(s)*t.evaluate(s),"**":(e,t,s)=>e.evaluate(s)**t.evaluate(s),"+":(e,t,s)=>e.evaluate(s)+t.evaluate(s),"-":(e,t,s)=>e.evaluate(s)-t.evaluate(s),"/":(e,t,s)=>e.evaluate(s)/t.evaluate(s),"<":(e,t,s)=>e.evaluate(s)<t.evaluate(s),"<<":(e,t,s)=>e.evaluate(s)<<t.evaluate(s),"<=":(e,t,s)=>e.evaluate(s)<=t.evaluate(s),"==":(e,t,s)=>e.evaluate(s)==t.evaluate(s),"===":(e,t,s)=>e.evaluate(s)===t.evaluate(s),">":(e,t,s)=>e.evaluate(s)>t.evaluate(s),">=":(e,t,s)=>e.evaluate(s)>=t.evaluate(s),">>":(e,t,s)=>e.evaluate(s)>>t.evaluate(s),">>>":(e,t,s)=>e.evaluate(s)>>>t.evaluate(s),"^":(e,t,s)=>e.evaluate(s)^t.evaluate(s),in:(e,t,s)=>e.evaluate(s)in t.evaluate(s),instanceof:(e,t,s)=>e.evaluate(s)instanceof t.evaluate(s),"|":(e,t,s)=>e.evaluate(s)|t.evaluate(s)};class k{constructor(e,t,s){this._left=e,this._operator=s,this._right=t,this.operation=y[this.operator]}get left(){return this._left}set left(e){this._left=e}get operator(){return this._operator}set operator(e){this._operator=e}get right(){return this._right}set right(e){this._right=e}get type(){return l.BinaryExpression}clone(){return new k(this.left.clone(),this.right.clone(),this.operator)}evaluate(e){return this.operation(this.left,this.right,e)}toString(){return`${this.left} ${this.operator} ${this.right}`}}class w{}w.duplicateParameterNameNotAllowedInThisContext="Duplicate parameter name not allowed in this context",w.identifierIsNotAConstructor="${identifier} is not a constructor",w.identifierIsNotAFunction="${identifier} is not a function",w.identifierIsNotDefined="${identifier} is not defined",w.illegalPropertyInDeclarationContext="Illegal property in declaration context",w.invalidDestructuringAssignmentTarget="Invalid destructuring assignment target",w.invalidHexadecimalEscapeSequence="Invalid hexadecimal escape sequence",w.invalidLeftHandSideExpressionInPostfixOperation="Invalid left-hand side expression in postfix operation",w.invalidLeftHandSideExpressionInPrefixOperation="Invalid left-hand side expression in prefix operation",w.invalidLeftHandSideInAssignment="Invalid left-hand side in assignment",w.invalidOrUnexpectedToken="Invalid or unexpected token",w.invalidRegularExpressionMissingToken="Invalid regular expression missing /",w.invalidUnicodeEscapeSequence="Invalid Unicode escape sequence",w.keywordMustNotContainEscapedCharacters="Keyword must not contain escaped characters",w.malformedArrowFunctionParameterList="Malformed arrow function parameter list",w.numericSeparatorCanNotBeUsedAfterLeadingZero="Numeric separator can not be used after leading 0",w.numericSeparatorsAreNotAllowedAtTheEndOfNumericLiterals="Numeric separators are not allowed at the end of numeric literals",w.octalLiteralsAreNotAllowedInTemplateStrings="Octal literals are not allowed in template strings.",w.restOperatorMustBeFollowedByAnIdentifierInDeclarationContexts="`...` must be followed by an identifier in declaration contexts",w.restParameterMayNotHaveAdefaultInitializer="Rest parameter may not have a default initializer",w.restParameterMustBeLastFormalParameter="Rest parameter must be last formal parameter",w.unexpectedEndOfExpression="Unexpected end of expression",w.unexpectedNumber="Unexpected number",w.unexpectedString="Unexpected string",w.unexpectedToken="Unexpected token ${token}";class b{constructor(e,t,s){this._arguments=t,this._callee=e,this._optional=!!s}get arguments(){return this._arguments}set arguments(e){this._arguments=e}get callee(){return this._callee}set callee(e){this._callee=e}get optional(){return this._optional}set optional(e){this._optional=e}get type(){return l.CallExpression}clone(){return new b(this.callee.clone(),this.arguments.map((e=>e.clone())),this.optional)}evaluate(e){const[t,s]=D(this.callee,e);if(this.optional&&!(0,o.Uh)(s))return;if(!s)throw new ReferenceError((0,h.WU)(w.identifierIsNotDefined,{identifier:this.callee.toString()}));if("function"!=typeof s)throw new TypeError((0,h.WU)(w.identifierIsNotAFunction,{identifier:this.callee.toString()}));const i=[];for(const t of this.arguments)p.isSpreadElement(t)?i.push(...t.argument.evaluate(e)):i.push(t.evaluate(e));return s.apply(t,i)}toString(){return`${[l.BinaryExpression,l.ConditionalExpression,l.ArrowFunctionExpression].includes(this.callee.type)?`(${this.callee})`:this.callee}${this.optional?"?.":""}(${this.arguments.map((e=>e.toString())).join(", ")})`}}class B{constructor(e){this._expression=e}get expression(){return this._expression}get type(){return l.ChainExpression}evaluate(e){return this._expression.evaluate(e)}clone(){return new B(this._expression.clone())}toString(){return this._expression.toString()}}class T{constructor(e,t,s){this._test=e,this._consequent=s,this._alternate=t}get alternate(){return this._alternate}set alternate(e){this._alternate=e}get consequent(){return this._consequent}set consequent(e){this._consequent=e}get test(){return this._test}set test(e){this._test=e}get type(){return l.ConditionalExpression}clone(){return new T(this.test.clone(),this.alternate.clone(),this.consequent.clone())}evaluate(e){return this.test.evaluate(e)?this.alternate.evaluate(e):this.consequent.evaluate(e)}toString(){return`${this.test} ? ${this.alternate} : ${this.consequent}`}}class S{constructor(e){this._name=e}get name(){return this._name}set name(e){this._name=e}get type(){return l.Identifier}clone(){return new S(this.name)}evaluate(e,t){if(2==arguments.length)return{[this.name]:t};if("undefined"!=this.name){if(!(this.name in e))throw new ReferenceError((0,h.WU)(w.identifierIsNotDefined,{identifier:this.name}));return e[this.name]}}toString(){return this.name}}class P{constructor(e){this._value=e}get type(){return l.Literal}get value(){return this._value}set value(e){this._value=e}clone(){return new P(this.value)}evaluate(){return this.value}toString(){return"string"==typeof this.value?`"${this.value}"`:`${this.value}`}}const _={"&&":(e,t,s)=>e.evaluate(s)&&t.evaluate(s),"??":(e,t,s)=>e.evaluate(s)??t.evaluate(s),"||":(e,t,s)=>e.evaluate(s)||t.evaluate(s)};class I{constructor(e,t,s){this._left=e,this._operator=s,this._right=t,this.operation=_[this.operator]}get left(){return this._left}set left(e){this._left=e}get operator(){return this._operator}set operator(e){this._operator=e}get right(){return this._right}set right(e){this._right=e}get type(){return l.LogicalExpression}clone(){return new I(this.left.clone(),this.right.clone(),this.operator)}evaluate(e){return this.operation(this.left,this.right,e)}toString(){return`${this.left} ${this.operator} ${this.right}`}}class L{constructor(e,t,s,i){this._object=e,this._property=t,this._computed=s,this._optional=i}get computed(){return this._computed}set computed(e){this._computed=e}get property(){return this._property}set property(e){this._property=e}get object(){return this._object}set object(e){this._object=e}get optional(){return this._optional}set optional(e){this._optional=e}get type(){return l.MemberExpression}clone(){return new L(this.object.clone(),this.property.clone(),this.computed,this.optional)}evaluate(e){const t=this.object.evaluate(e),s=p.isIdentifier(this.property)&&!this.computed?this.property.name:`${this.property.evaluate(e)}`;return this.optional?(0,o.Uh)(t)?t[s]:void 0:t[s]}toString(){return`${this.object}${p.isIdentifier(this.property)&&!this.computed?`${this.optional?"?":""}.${this.property.name}`:`${this.optional?"?.":""}[${this.property}]`}`}}class ${constructor(e,t){this._callee=e,this._arguments=t}get arguments(){return this._arguments}set arguments(e){this._arguments=e}get callee(){return this._callee}set callee(e){this._callee=e}get type(){return l.NewExpression}clone(){return new $(this.callee.clone(),this.arguments.map((e=>e.clone())))}evaluate(e){const t=this.callee.evaluate(e);if(!t)throw new ReferenceError((0,h.WU)(w.identifierIsNotDefined,{identifier:this.callee.toString()}));if("function"!=typeof t)throw new TypeError((0,h.WU)(w.identifierIsNotAConstructor,{identifier:this.callee.toString()}));const s=[];for(const t of this.arguments)p.isSpreadElement(t)?s.push(...t.argument.evaluate(e)):s.push(t.evaluate(e));return Reflect.construct(t,s,t)}toString(){return`new ${this.callee}(${this.arguments.map((e=>e.toString())).join(", ")})`}}class N{constructor(e){this._properties=e}get properties(){return this._properties}set properties(e){this._properties=e}get type(){return l.ObjectExpression}clone(){return new N(this.properties.map((e=>e.clone())))}evaluate(e){const t={};for(const s of this.properties)if(p.isProperty(s)){t[p.isIdentifier(s.key)&&!s.computed?s.key.name:s.key.evaluate(e)]=s.value.evaluate(e)}else Object.assign(t,s.argument.evaluate(e));return t}toString(){return this.properties.length>0?`{ ${this.properties.map((e=>e.toString())).join(", ")} }`:"{ }"}}class j{constructor(e){this._argument=e}get argument(){return this._argument}set argument(e){this._argument=e}get type(){return l.ParenthesizedExpression}clone(){return new j(this.argument.clone())}evaluate(e){return this.argument.evaluate(e)}toString(){return`(${this.argument})`}}class U{constructor(e,t){this._flags=t,this._pattern=e}get flags(){return this._flags}set flags(e){this._flags=e}get pattern(){return this._pattern}set pattern(e){this._pattern=e}get type(){return l.RegExpLiteral}get value(){return null}set value(e){}clone(){return new U(this.pattern,this.flags)}evaluate(){return new RegExp(this.pattern,this.flags)}toString(){return`/${this.pattern}/${this.flags}`}}class O{constructor(e){this._expressions=e}get expressions(){return this._expressions}set expressions(e){this._expressions=e}get type(){return l.SequenceExpression}clone(){return new O(this.expressions.map((e=>e.clone())))}evaluate(e){let t;for(const s of this.expressions)t=s.evaluate(e);return t}toString(){return`(${this.expressions.map((e=>e.toString())).join(", ")})`}}class q{constructor(e,t){this._callee=e,this._quasi=t}get callee(){return this._callee}set callee(e){this._callee=e}get quasi(){return this._quasi}set quasi(e){this._quasi=e}get type(){return l.TaggedTemplateExpression}clone(){return new q(this.callee.clone(),this.quasi.clone())}evaluate(e){const[t,s]=D(this.callee,e);if(!s)throw new ReferenceError((0,h.WU)(w.identifierIsNotDefined,{identifier:this.callee.toString()}));if("function"!=typeof s)throw new TypeError((0,h.WU)(w.identifierIsNotAFunction,{identifier:this.callee.toString()}));const i=this.quasi.quasis.map((e=>e.cooked));return Object.defineProperty(i,"raw",{value:this.quasi.quasis.map((e=>e.raw))}),s.apply(t,[i,...this.quasi.expressions.map((t=>t.evaluate(e)))])}toString(){return`${this.callee}${this.quasi}`}}class G{constructor(e,t){this._expressions=t,this._quasis=e}get expressions(){return this._expressions}set expressions(e){this._expressions=e}get quasis(){return this._quasis}set quasis(e){this._quasis=e}get type(){return l.TemplateLiteral}clone(){return new G(this.quasis.map((e=>e.clone())),this.expressions.map((e=>e.clone())))}evaluate(e){let t="";for(let s=0;s<this.expressions.length;s++)t+=`${this.quasis[s].cooked}${this.expressions[s].evaluate(e)}`;return t+this.quasis[this.quasis.length-1].cooked}toString(){let e="";for(let t=0;t<this.expressions.length;t++)e+=`${this.quasis[t].raw}\${${this.expressions[t]}}`;return`\`${e+this.quasis[this.quasis.length-1].raw}\``}}class M{get type(){return l.ThisExpression}clone(){return new M}evaluate(e,t){return t&&(0,o.Uh)(this.cache)?this.cache:this.cache=e.this}toString(){return"this"}}const R={"!":(e,t)=>!e.evaluate(t),"+":(e,t)=>+e.evaluate(t),"-":(e,t)=>-e.evaluate(t),typeof:(e,t)=>typeof e.evaluate(t),"~":(e,t)=>~e.evaluate(t)};class z{constructor(e,t){this._operator=t,this._argument=e,this.operation=R[this.operator]}get argument(){return this._argument}set argument(e){this._argument=e}get operator(){return this._operator}set operator(e){this._operator=e}get type(){return l.UnaryExpression}clone(){return new z(this.argument.clone(),this.operator)}evaluate(e){return this.operation(this.argument,e)}toString(){return`${this.operator}${"typeof"==this.operator?" ":""}${this.argument}`}}const H={"*++":(e,t)=>e[t]++,"*--":(e,t)=>e[t]--,"++*":(e,t)=>++e[t],"--*":(e,t)=>--e[t]};class Z{constructor(e,t,s){this._argument=e,this._prefix=s,this._operator=t,this.operation=this.prefix?H[`${this.operator}*`]:H[`*${this.operator}`]}get argument(){return this._argument}set argument(e){this._argument=e}get operator(){return this._operator}set operator(e){this._operator=e}get prefix(){return this._prefix}set prefix(e){this._prefix=e}get type(){return l.UpdateExpression}clone(){return new Z(this.argument.clone(),this.operator,this.prefix)}evaluate(e){if(p.isIdentifier(this.argument))return this.operation(e,this.argument.name);const t=this.argument.object.evaluate(e),s=p.isIdentifier(this.argument.property)&&!this.argument.computed?this.argument.property.name:this.argument.property.evaluate(e);return this.operation(t,s)}toString(){return this.prefix?`${this.operator}${this.argument}`:`${this.argument}${this.operator}`}}class W{constructor(e){this._elements=e}get elements(){return this._elements}set elements(e){this._elements=e}get type(){return l.ArrayPattern}clone(){return new W(this.elements.map((e=>e?.clone()??null)))}evaluate(e,t){const s={};let i=0;for(const r of this.elements)r&&(p.isRestElement(r)?Object.assign(s,r.evaluate(e,t.slice(i))):Object.assign(s,r.evaluate(e,t[i]))),i++;return s}toString(){return`[${this.elements.map((e=>(e??"").toString())).join(", ")}]`}}class K{constructor(e,t){this._left=e,this._right=t}get left(){return this._left}set left(e){this._left=e}get right(){return this._right}set right(e){this._right=e}get type(){return l.AssignmentPattern}clone(){return new K(this.left.clone(),this.right.clone())}evaluate(e,t){if(p.isIdentifier(this.left))return{[this.left.name]:t??this.right.evaluate(e)};throw new Error(w.illegalPropertyInDeclarationContext)}toString(){return`${this.left} = ${this.right}`}}class V{constructor(e){this._properties=e}get properties(){return this._properties}set properties(e){this._properties=e}get type(){return l.ObjectPattern}clone(){return new V(this.properties.map((e=>e.clone())))}evaluate(e,t){const s=[],i={};for(const r of this.properties)if(p.isAssignmentProperty(r)){const n=p.isIdentifier(r.key)&&!r.computed?r.key.name:`${r.key.evaluate(e)}`;if(p.isObjectPattern(r.value))return r.value.evaluate(e,t[n]);if(p.isArrayPattern(r.value))return r.value.evaluate(e,t[n]);const u=`${p.isAssignmentPattern(r.value)?r.value.left.name:r.value.name}`,a=r.shorthand?u:n;i[u]=p.isAssignmentPattern(r.value)?r.value.right.evaluate(e):i[u]=t[a],s.push(u)}else{for(const e of s)Reflect.deleteProperty(t,e);Object.assign(i,r.evaluate(e,t))}return i}toString(){return this.properties.length>0?`{ ${this.properties.map((e=>e.toString())).join(", ")} }`:"{ }"}}class J{constructor(e){this._argument=e}get argument(){return this._argument}set argument(e){this._argument=e}get type(){return l.RestElement}clone(){return new J(this.argument.clone())}evaluate(e,t){return p.isIdentifier(this.argument)?{[this.argument.name]:t}:this.argument.evaluate(e,t)}toString(){return`...${this.argument}`}}class Y{static isIdentifier(e){return 36==e||95==e||e>=65&&e<=90||e>=97&&e<=122||92==e}static isIdentifierPart(e){return Y.isIdentifier(e)||Y.isDecimalDigit(e)||e>=128&&Y.patterns.nonAsciiIdentifierPart.test(String.fromCodePoint(e))}static isIdentifierStart(e){return Y.isIdentifier(e)||e>=128&&Y.patterns.nonAsciiIdentifierStart.test(String.fromCodePoint(e))}static isDecimalDigit(e){return e>=48&&e<=57}static isHexDigit(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}static isLineTerminator(e){return 10==e||13==e||8232==e||8233===e}static isOctalDigit(e){return e>=48&&e<=55}static isWhiteSpace(e){return 32==e||9==e||11==e||12==e||160==e||e>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}}Y.patterns={nonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,nonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/};class X extends Error{constructor(e,t,s,i){super(e),this.lineNumber=t,this.index=s,this.column=i}}var Q;!function(e){e[e.BooleanLiteral=0]="BooleanLiteral",e[e.EOF=1]="EOF",e[e.Identifier=2]="Identifier",e[e.Keyword=3]="Keyword",e[e.NullLiteral=4]="NullLiteral",e[e.NumericLiteral=5]="NumericLiteral",e[e.Punctuator=6]="Punctuator",e[e.RegularExpression=7]="RegularExpression",e[e.StringLiteral=8]="StringLiteral",e[e.Template=9]="Template"}(Q||(Q={}));const ee=Q;class te{constructor(e){this._source=e,this.curlyStack=[],this.length=e.length,this._index=0,this.lineNumber=1,this.lineStart=0}get source(){return this._source}get index(){return this._index}advance(){this._index++}eof(){return this.index==this.length}isKeyword(e){switch(e.length){case 2:return"if"==e||"in"==e||"do"==e;case 3:return"var"==e||"for"==e||"new"==e||"try"==e||"let"==e;case 4:return"this"==e||"else"==e||"case"==e||"void"==e||"with"==e||"enum"==e;case 5:return"while"==e||"break"==e||"catch"==e||"throw"==e||"const"==e||"yield"==e||"class"==e||"super"==e;case 6:return"return"==e||"typeof"==e||"delete"==e||"switch"==e||"export"==e||"import"==e;case 7:return"default"==e||"finally"==e||"extends"==e;case 8:return"function"==e||"continue"==e||"debugger"==e;case 10:return"instanceof"==e;default:return!1}}isBinary(e){return"0"==e||"1"==e}isImplicitOctalLiteral(){for(let e=this.index+1;e<this.length;e++){const t=this.source[e];if("8"==t||"9"==t)return!1;if(!Y.isOctalDigit(t.charCodeAt(0)))return!0}return!0}getIdentifier(){const e=this.index;for(;!this.eof();){const t=this.source.charCodeAt(this.index);if(92==t)return this.setCursorAt(e),this.getComplexIdentifier();if(t>=55296&&t<57343)return this.setCursorAt(e),this.getComplexIdentifier();if(!Y.isIdentifierPart(t))break;this.advance()}return this.source.substring(e,this.index)}getComplexIdentifier(){let e=this.source.codePointAt(this.index),t=String.fromCodePoint(e);if(this.setCursorAt(this.index+t.length),92==e)if(117!=this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),this.advance(),"{"==this.source[this.index])this.advance(),t=this.scanUnicodeCodePointEscape();else{const e=this.scanHexEscape("u");null!==e&&"\\"!=e&&Y.isIdentifierStart(e.charCodeAt(0))?t=e:this.throwUnexpectedToken()}for(;!this.eof();){e=this.source.codePointAt(this.index);let s=String.fromCodePoint(e);if(t+=s,this.setCursorAt(this.index+s.length),92==e){if(t=t.substr(0,t.length-1),117!=this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),this.advance(),"{"==this.source[this.index])this.advance(),s=this.scanUnicodeCodePointEscape();else{const e=this.scanHexEscape("u");null!==e&&"\\"!=e&&Y.isIdentifierPart(e.charCodeAt(0))?s=e:this.throwUnexpectedToken()}t+=s}}return t}hexValue(e){return"0123456789abcdef".indexOf(e.toLowerCase())}octalToDecimal(e){let t="0"!=e,s=Number(e);return!this.eof()&&Y.isOctalDigit(this.source.charCodeAt(this.index))&&(t=!0,s=8*s+Number(this.source[this.index]),this.advance(),"0123".includes(e)&&!this.eof()&&Y.isOctalDigit(this.source.charCodeAt(this.index))&&(s=8*s+Number(this.source[this.index]),this.advance())),{code:s,isOctal:t}}scanBinaryLiteral(e){let t="",s=!1;if(!this.eof())for(this.isBinary(this.source[this.index])||this.throwUnexpectedToken();!this.eof();){const e=this.source[this.index];if(this.isBinary(e))t+=e;else if("_"!=e)break;this.advance()}if(0==t.length&&this.throwUnexpectedToken(),"_"==this.source[this.index-1]&&this.throwUnexpectedToken(w.numericSeparatorsAreNotAllowedAtTheEndOfNumericLiterals),"n"==this.source[this.index])s=!0,this.advance();else if(!this.eof()){const e=this.source.charCodeAt(this.index);(Y.isIdentifierStart(e)||Y.isDecimalDigit(e))&&this.throwUnexpectedToken()}const i=s?BigInt:Number;return{end:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,raw:this.source.substring(e,this.index),start:e,type:ee.NumericLiteral,value:i(`0b${t}`)}}scanHexEscape(e){const t="u"==e?4:2;let s=0;for(let e=0;e<t;e++){if(this.eof()||!Y.isHexDigit(this.source.charCodeAt(this.index)))return null;s=16*s+this.hexValue(this.source[this.index]),this.advance()}return String.fromCharCode(s)}scanHexLiteral(e){let t="",s=!1;if(!this.eof())for(Y.isHexDigit(this.source.charCodeAt(this.index))||this.throwUnexpectedToken();!this.eof();){const e=this.source[this.index];if(Y.isHexDigit(e.charCodeAt(0)))t+=e;else if("_"!=e)break;this.advance()}0==t.length&&this.throwUnexpectedToken(),"_"==this.source[this.index-1]&&this.throwUnexpectedToken(w.numericSeparatorsAreNotAllowedAtTheEndOfNumericLiterals),"n"==this.source[this.index]&&(s=!0,this.advance()),Y.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();const i=s?BigInt:Number;return{end:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,raw:this.source.substring(e,this.index),start:e,type:ee.NumericLiteral,value:i(`0x${t}`)}}scanIdentifier(){const e=this.index,t=92==this.source.charCodeAt(e)?this.getComplexIdentifier():this.getIdentifier();let s,i;1==t.length?(s=ee.Identifier,i=t):this.isKeyword(t)?(s=ee.Keyword,i=t):"null"==t?(s=ee.NullLiteral,i=null):"undefined"==t?(s=ee.Identifier,i=void 0):"true"==t||"false"==t?(s=ee.BooleanLiteral,i="true"==t):(s=ee.Identifier,i=t),s!=ee.Identifier&&e+t.length!=this.index&&(this.setCursorAt(e),this.throwUnexpectedToken(w.keywordMustNotContainEscapedCharacters));return{end:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,raw:this.source.substring(e,this.index),start:e,type:s,value:i}}scanNumericLiteral(){const e=this.index;let t=!1,s=!1,i="";if("."!=this.source[this.index]&&(i=this.source[this.index],this.advance(),!this.eof())){if("0"==i){const t=this.source[this.index];if("_"==t&&this.throwUnexpectedToken(w.numericSeparatorCanNotBeUsedAfterLeadingZero),"x"==t||"X"==t)return this.advance(),this.scanHexLiteral(e);if("b"==t||"B"==t)return this.advance(),this.scanBinaryLiteral(e);if("o"==t||"O"==t)return this.advance(),this.scanOctalLiteral(e,!1);if(this.source[this.index]&&Y.isOctalDigit(t.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(e,!0)}for(;!this.eof();){const e=this.source[this.index];if(Y.isDecimalDigit(this.source.charCodeAt(this.index)))i+=e;else if("_"!=e)break;this.advance()}}if("_"==this.source[this.index-1]&&this.throwUnexpectedToken(w.numericSeparatorsAreNotAllowedAtTheEndOfNumericLiterals),"."==this.source[this.index]&&(s=!0,i+=this.source[this.index],this.advance(),!this.eof()))for(Y.isDecimalDigit(this.source.charCodeAt(this.index))||this.throwUnexpectedToken();!this.eof();){const e=this.source[this.index];if(Y.isDecimalDigit(this.source.charCodeAt(this.index)))i+=e;else if("_"!=e)break;this.advance()}if("e"==this.source[this.index]||"E"==this.source[this.index])if(i+=this.source[this.index],this.advance(),"+"!=this.source[this.index]&&"-"!=this.source[this.index]||(i+=this.source[this.index],this.advance()),Y.isDecimalDigit(this.source.charCodeAt(this.index)))for(;Y.isDecimalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index],this.advance();else this.throwUnexpectedToken();"_"==this.source[this.index-1]&&this.throwUnexpectedToken(w.numericSeparatorsAreNotAllowedAtTheEndOfNumericLiterals),"n"==this.source[this.index]&&(s&&this.throwUnexpectedToken(),t=!0,this.advance()),Y.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();const r=t?BigInt:Number;return{end:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,raw:this.source.substring(e,this.index),start:e,type:ee.NumericLiteral,value:r(i)}}scanOctalLiteral(e,t){let s="",i=!1;if(!this.eof())for(Y.isOctalDigit(this.source.charCodeAt(this.index))||this.throwUnexpectedToken();!this.eof();){const e=this.source[this.index];if(Y.isOctalDigit(e.charCodeAt(0)))s+=e;else if("_"!=e)break;this.advance()}t||0!=s.length||this.throwUnexpectedToken(),"_"==this.source[this.index-1]&&this.throwUnexpectedToken(w.numericSeparatorsAreNotAllowedAtTheEndOfNumericLiterals),t||"n"!=this.source[this.index]||(i=!0,this.advance());const r=this.source.charCodeAt(this.index);(Y.isIdentifierStart(r)||Y.isDecimalDigit(r))&&this.throwUnexpectedToken();const n=i?BigInt:Number;return{end:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,raw:this.source.substring(e,this.index),start:e,type:ee.NumericLiteral,value:n(`0o${s}`)}}scanStringLiteral(){const e=this.index,t=this.source[e];let s=!1,i=!1,r="";for(this.advance();!this.eof();){const e=this.source[this.index];if(this.advance(),e==t){s=!0;break}if("\\"==e){const e=this.source[this.index];if(this.advance(),Y.isLineTerminator(e.charCodeAt(0)))break;switch(e){case"u":if("{"==this.source[this.index])this.advance(),r+=this.scanUnicodeCodePointEscape();else{const t=this.scanHexEscape(e);Object.is(t,null)&&this.throwUnexpectedToken(w.invalidUnicodeEscapeSequence),r+=t}break;case"x":{const t=this.scanHexEscape(e);Object.is(t,null)&&this.throwUnexpectedToken(w.invalidHexadecimalEscapeSequence),r+=t;break}case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"b":r+="\b";break;case"f":r+="\f";break;case"v":r+="\v";break;default:if(e&&Y.isOctalDigit(e.charCodeAt(0))){const t=this.octalToDecimal(e);i=t.isOctal,r+=String.fromCharCode(t.code)}else r+=e}}else{if(Y.isLineTerminator(e.charCodeAt(0)))break;r+=e}}s||this.throwUnexpectedToken();return{end:this.index,isOctal:i,lineNumber:this.lineNumber,lineStart:this.lineStart,raw:this.source.substring(e,this.index),start:e,type:ee.StringLiteral,value:r}}scanPunctuator(){const e=this.index;let t=this.source[this.index];switch(t){case"(":case"{":"{"==t&&this.curlyStack.push("{"),this.advance();break;case".":this.advance(),"."==this.source[this.index]&&"."==this.source[this.index+1]&&(this.setCursorAt(this.index+2),t="...");break;case"}":this.advance(),this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"~":this.advance();break;case"?":{t="?";const e=this.source[this.index+1];"."==e?Y.isDecimalDigit(this.source.codePointAt(this.index+2))||(t="?.",this.advance()):"?"==e&&(t="??",this.advance(),"="==this.source[this.index+1]&&(t="??=",this.advance())),this.advance()}break;default:if(t=this.source.substr(this.index,4),">>>="==t)this.setCursorAt(this.index+4);else switch(t=t.substr(0,3),t){case"===":case"!==":case">>>":case"<<=":case">>=":case"**=":case"&&=":case"||=":this.setCursorAt(this.index+3);break;default:switch(t=t.substr(0,2),t){case"!=":case"%=":case"&&":case"&=":case"**":case"*=":case"++":case"+=":case"--":case"-=":case"/=":case"<<":case"<=":case"==":case"=>":case">=":case">>":case"^=":case"|=":case"||":this.setCursorAt(this.index+2);break;default:t=this.source[this.index],"<>=!+-*%&|^/".includes(t)&&this.advance()}}}this.index==e&&this.throwUnexpectedToken();return{end:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,raw:t,start:e,type:ee.Punctuator,value:t}}scanTemplate(){const e=this.index,t="`"==this.source[e];let s="",i=!1,r=!1,n=1;for(this.advance();!this.eof();){const e=this.source[this.index];if(this.advance(),"`"==e){r=!0,i=!0;break}if("$"==e){if("{"==this.source[this.index]){this.curlyStack.push("${"),this.advance(),n++,i=!0;break}s+=e}else if("\\"==e){const e=this.source[this.index];if(this.advance(),Y.isLineTerminator(e.charCodeAt(0)))this.lineNumber++,"\n"==this.source[this.index]&&this.advance(),this.lineStart=this.index,s+="\\\n";else switch(e){case"n":s+="\n";break;case"r":s+="\r";break;case"t":s+="\t";break;case"u":if("{"==this.source[this.index])this.advance(),s+=this.scanUnicodeCodePointEscape();else{const t=this.index,i=this.scanHexEscape(e);null!==i?s+=i:(this.setCursorAt(t),s+="\\u")}break;case"x":{const t=this.scanHexEscape(e);Object.is(t,null)&&this.throwUnexpectedToken(w.invalidHexadecimalEscapeSequence),s+=t}break;case"b":s+="\b";break;case"f":s+="\f";break;case"v":s+="\v";break;default:"0"==e?(Y.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(w.octalLiteralsAreNotAllowedInTemplateStrings),s+="\0"):Y.isOctalDigit(e.charCodeAt(0))?this.throwUnexpectedToken(w.octalLiteralsAreNotAllowedInTemplateStrings):s+=e}}else Y.isLineTerminator(e.charCodeAt(0))?(this.lineNumber++,"\n"==this.source[this.index]&&this.advance(),this.lineStart=this.index,s+="\n"):s+=e}i||this.throwUnexpectedToken(),t||this.curlyStack.pop();return{end:this.index,isHead:t,isTail:r,lineNumber:this.lineNumber,lineStart:this.lineStart,raw:this.source.slice(e+1,this.index-n),start:e,type:ee.Template,value:s}}scanUnicodeCodePointEscape(){let e=this.source[this.index],t=0;for("}"==e&&this.throwUnexpectedToken(w.invalidUnicodeEscapeSequence);!this.eof()&&(e=this.source[this.index],this.advance(),Y.isHexDigit(e.charCodeAt(0)));)t=16*t+this.hexValue(e);return(t>1114111||"}"!=e)&&this.throwUnexpectedToken(w.invalidUnicodeEscapeSequence),String.fromCodePoint(t)}setCursorAt(e){this._index=e}throwUnexpectedToken(e){throw new X(e??w.invalidOrUnexpectedToken,this.lineNumber,this.index,this.index-this.lineStart+1)}backtrack(e){this._index-=e}nextToken(){if(this.eof()){return{end:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,raw:"",start:this.index,type:ee.EOF,value:""}}const e=this.source.charCodeAt(this.index);return Y.isWhiteSpace(e)?(this.advance(),this.nextToken()):Y.isLineTerminator(e)?(this.lineNumber++,this.advance(),this.lineStart=this.index,this.nextToken()):Y.isIdentifierStart(e)?this.scanIdentifier():40==e||41==e||59==e?this.scanPunctuator():39==e||34==e?this.scanStringLiteral():46==e?Y.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():Y.isDecimalDigit(e)?this.scanNumericLiteral():96==e||125==e&&"${"==this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():e>=55296&&e<57343&&Y.isIdentifierStart(this.source.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()}scanRegex(){const e=this.index;let t="",s=!1,i=!1;if(this.eof()||"/"!=this.source[this.index])this.throwUnexpectedToken();else for(t=this.source[this.index];!this.eof();){this.advance();const e=this.source[this.index];if(t+=e,e&&!Y.isLineTerminator(e.charCodeAt(0)))if("\\"==e){this.advance();const e=this.source[this.index];Y.isLineTerminator(e.charCodeAt(0))&&this.throwUnexpectedToken(w.invalidRegularExpressionMissingToken),t+=e}else if(s&&"]"==e)s=!1;else{if("/"==e){i=!0,this.advance();break}"["==e&&(s=!0)}}i||this.throwUnexpectedToken(w.invalidRegularExpressionMissingToken);let r="";for(;!this.eof();){const e=this.source[this.index];if(!Y.isIdentifierPart(e.charCodeAt(0)))break;r+=e,this.advance()}t=t.substring(1,t.length-1);return{end:this.index,flags:r,lineNumber:this.lineNumber,lineStart:this.lineStart,pattern:t,raw:`/${t}/${r}`,start:e,type:ee.RegularExpression,value:new RegExp(t,r)}}}class se{constructor(e){this.scanner=new te(e),this.lookahead=this.scanner.nextToken(),this.invalidInitialization=null}static parse(e){return new se(e).parseExpression()}arguments(){this.expect("(");const e=[];if(!this.match(")"))for(;;){const t=this.inheritGrammar(this.match("...")?this.spreadExpression:this.assignmentExpression);if(e.push(t),this.match(")"))break;if(this.expect(","),this.match(")"))break}return this.expect(")"),e}arrayPattern(){const e=[];for(this.expect("[");!this.match("]");){this.match(",")&&(e.push(null),this.nextToken());const t=this.lookahead;if(this.match("...")){if(this.expect("..."),e.push(new J(this.inheritGrammar(this.pattern,!1))),!this.match("]"))throw this.syntaxError(this.lookahead,w.restParameterMustBeLastFormalParameter)}else this.match("[")?e.push(this.inheritGrammar(this.arrayPattern)):this.match("{")?e.push(this.inheritGrammar(this.objectPattern)):e.push(this.reinterpretPattern(this.inheritGrammar(this.assignmentExpression),t));this.match("]")||this.expect(",")}return this.expect("]"),new W(e)}arrayExpression(){const e=[];for(this.expect("[");!this.match("]");)this.match(",")&&(e.push(null),this.nextToken()),this.match("...")?e.push(this.inheritGrammar(this.spreadExpression)):this.match("]")||e.push(this.inheritGrammar(this.assignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),new f(e)}assignmentExpression(e){if(e&&this.match("{"))throw this.unexpectedTokenError(this.lookahead);const t=this.lookahead,s=this.inheritGrammar(this.conditionalExpression);if(this.match("=>"))return this.expect("=>"),new F([this.reinterpretPattern(s,t)],this.inheritGrammar(this.assignmentExpression,!0));if(this.match("=")||this.match("*=")||this.match("**=")||this.match("/=")||this.match("%=")||this.match("+=")||this.match("-=")||this.match("<<=")||this.match(">>=")||this.match(">>>=")||this.match("&=")||this.match("^=")||this.match("|=")||this.match("&&=")||this.match("||=")||this.match("??=")){if(!p.isIdentifier(s)&&!p.isMemberExpression(s))throw this.syntaxError(t,w.invalidLeftHandSideInAssignment);const e=this.nextToken(),i=this.isolateGrammar(this.assignmentExpression);return new v(s,i,e.raw)}return s}binaryExpression(){const e=this.inheritGrammar(this.exponentiationExpression);let t=this.binaryPrecedence(this.lookahead);if(0==t)return e;const s=[e,this.nextToken(),this.isolateGrammar(this.exponentiationExpression)],i=[t];for(;;){if(this.match("="))throw this.syntaxError(this.lookahead,w.invalidLeftHandSideInAssignment);if(this.match("=>"))throw this.syntaxError(this.lookahead,w.malformedArrowFunctionParameterList);if(t=this.binaryPrecedence(this.lookahead),t<=0)break;let e;for(;s.length>2&&t<=i[i.length-1];){const t=s.pop(),r=s.pop(),n=r.raw,u=s.pop();if(u instanceof I&&this.hasMixedCoalescingAndLogical(u.operator,n))throw this.unexpectedTokenError(r);if(t instanceof I&&this.hasMixedCoalescingAndLogical(t.operator,n))throw this.unexpectedTokenError(e);i.pop();const a="&&"==n||"||"==n||"??"==n?new I(u,t,n):new k(u,t,n);s.push(a),e=r}s.push(this.nextToken()),i.push(t),s.push(this.isolateGrammar(this.exponentiationExpression))}let r,n=s.pop();for(;s.length>0;){const e=n,t=s.pop(),i=t.raw,u=s.pop();if(u instanceof I&&this.hasMixedCoalescingAndLogical(u.operator,i))throw this.unexpectedTokenError(t);if(e instanceof I&&this.hasMixedCoalescingAndLogical(e.operator,i))throw this.unexpectedTokenError(r);n="&&"==i||"||"==i||"??"==i?new I(u,e,i):new k(u,e,i),r=t}return n}binaryPrecedence(e){const t=e.raw;if(e.type==ee.Punctuator)switch(t){case"??":return 1;case"||":return 2;case"&&":return 3;case"|":return 4;case"^":return 5;case"&":return 6;case"==":case"!=":case"===":case"!==":return 7;case"<":case">":case"<=":case">=":return 8;case"<<":case">>":case">>>":return 9;case"+":case"-":return 10;case"*":case"/":case"%":return 11;default:return 0}else if(e.type==ee.Keyword)return"instanceof"==t||"in"==t?7:0;return 0}conditionalExpression(){let e=this.inheritGrammar(this.binaryExpression);if(this.match("?")){this.expect("?");const t=this.isolateGrammar(this.assignmentExpression);this.expect(":");const s=this.isolateGrammar(this.assignmentExpression);e=new T(e,t,s)}return e}pattern(e){if(this.match("["))return this.isolateGrammar(this.arrayPattern);if(this.match("{"))return this.isolateGrammar(this.objectPattern);const t=this.lookahead,s=this.isolateGrammar(this.assignmentExpression);if(!e&&s.type==l.AssignmentExpression)throw this.syntaxError(t,w.invalidDestructuringAssignmentTarget);return this.reinterpretPattern(s,t)}expect(e){const t=this.nextToken();if(t.type!==ee.Punctuator||t.raw!==e)throw this.unexpectedTokenError(t)}exponentiationExpression(){const e=this.inheritGrammar(this.unaryExpression);if(this.match("**")){const t=this.nextToken().raw;return new k(e,this.isolateGrammar(this.assignmentExpression),t)}return e}expression(e=!1){const t=this.isolateGrammar(this.assignmentExpression,e);if(this.match(",")){const e=[t];for(;this.match(",");)this.expect(","),e.push(this.isolateGrammar(this.assignmentExpression));return new O(e)}return t}inheritGrammar(e,...t){const s=this.invalidInitialization;this.invalidInitialization=null;const i=e.call(this,...t);return this.invalidInitialization=s??this.invalidInitialization,i}isolateExpression(){const e=this.expression();if(this.lookahead.type!=ee.EOF)throw this.unexpectedTokenError(this.lookahead);return e}isolateGrammar(e,...t){const s=this.invalidInitialization;this.invalidInitialization=null;const i=e.call(this,...t);if(this.invalidInitialization)throw this.unexpectedTokenError(this.invalidInitialization);return this.invalidInitialization=s,i}hasMixedCoalescingAndLogical(e,t){return("&&"==e||"||"==e)&&"??"==t||("&&"==t||"||"==t)&&"??"==e}groupExpression(){if(this.expect("("),this.match(")")){if(this.expect(")"),this.match("=>")){this.expect("=>");const e=this.isolateGrammar(this.assignmentExpression,!0);return new F([],e)}throw this.unexpectedTokenError(this.lookahead)}{const e=[],t=[];if(this.match("...")){if(t.push(this.lookahead),e.push(this.inheritGrammar(this.restElement)),!this.match(")"))throw this.syntaxError(t[0],w.restParameterMustBeLastFormalParameter);this.expect(")")}else{if(t.push(this.lookahead),e.push(this.inheritGrammar(this.assignmentExpression)),this.match(","))for(;this.match(",");){if(this.expect(","),t.push(this.lookahead),this.match("...")){if(e.push(this.inheritGrammar(this.restElement)),!this.match(")"))throw this.syntaxError(t[t.length-1],w.restParameterMustBeLastFormalParameter);break}e.push(this.isolateGrammar(this.assignmentExpression))}this.expect(")")}if(this.match("=>")){this.invalidInitialization=null;const s=e.map(((e,s)=>this.reinterpretPattern(e,t[s])));this.expect("=>");const i=this.inheritGrammar(this.assignmentExpression,!0),r=d(s,t);if(r.result)throw this.syntaxError(r.token,w.duplicateParameterNameNotAllowedInThisContext);return new F(s,i)}return e.length>1?new O(e):new j(e[0])}}leftHandSideExpression(e){let t=this.inheritGrammar(this.matchKeyword("new")?this.newPrimaryExpression:this.primaryExpression),s=!1;for(;;)if(this.lookahead.type==ee.Template&&this.lookahead.isHead){const e=this.inheritGrammar(this.templateLiteralExpression);t=new q(t,e)}else if(this.match(".")){if(this.expect("."),this.lookahead.type!=ee.Identifier&&this.lookahead.type!=ee.Keyword)throw this.unexpectedTokenError(this.lookahead);t=new L(t,new S(this.nextToken().raw),!1,!1)}else{const i=this.match("?.");if(i&&(s=!0,this.nextToken()),this.match("[")){this.expect("[");const e=this.isolateGrammar(this.expression);this.expect("]"),t=new L(t,e,!0,i)}else if(this.match("(")){if(!e)return t;t=new b(t,this.isolateGrammar(this.arguments),i)}else{if(!i)break;if(this.lookahead.type!=ee.Identifier&&this.lookahead.type!=ee.Keyword)throw this.unexpectedTokenError(this.lookahead);t=new L(t,new S(this.nextToken().raw),!1,!0)}}return s?new B(t):t}objectPattern(){const e=[];for(this.expect("{");!this.match("}");){if(this.match("...")){this.expect("...");const t=this.lookahead,s=this.inheritGrammar(this.leftHandSideExpression,!1);if(!p.isIdentifier(s))throw this.syntaxError(t,w.restOperatorMustBeFollowedByAnIdentifierInDeclarationContexts);if(e.push(new J(s)),!this.match("}"))throw this.syntaxError(t,w.restParameterMustBeLastFormalParameter)}else{const t=this.lookahead;e.push(this.reinterpretPattern(this.inheritGrammar(this.objectPropertyExpression),t))}this.match("}")||this.expect(",")}return this.expect("}"),new V(e)}objectExpression(){this.expect("{");const e=[];for(;!this.match("}");)this.match("...")?e.push(this.inheritGrammar(this.spreadExpression)):e.push(this.inheritGrammar(this.objectPropertyExpression)),this.match("}")||this.expect(",");return this.expect("}"),new N(e)}objectPropertyExpression(){const e=this.lookahead;let t,s=!1;if(e.type==ee.Identifier){if(t=new S(e.raw),this.nextToken(),this.match("=")){const i=this.lookahead;this.expect("=");const r=this.isolateGrammar(this.assignmentExpression);return this.invalidInitialization=i,new E(t,new v(new S(e.raw),r,"="),s,!0)}if(!this.match(":"))return new E(t,new S(e.raw),!1,!0)}else{const e=this.lookahead;switch(e.type){case ee.BooleanLiteral:case ee.Keyword:case ee.NullLiteral:t=new S(this.nextToken().raw);break;case ee.NumericLiteral:case ee.StringLiteral:t=new P(this.nextToken().value);break;case ee.Punctuator:if("["!=e.raw)throw this.unexpectedTokenError(e);this.expect("["),t=this.inheritGrammar(this.assignmentExpression),this.expect("]"),s=!0;break;default:throw this.unexpectedTokenError(e)}}this.expect(":");const i=this.isolateGrammar(this.assignmentExpression);return new E(t,i,s,!1)}match(e){return this.lookahead.type===ee.Punctuator&&this.lookahead.raw===e}matchKeyword(e){return this.lookahead.type===ee.Keyword&&this.lookahead.raw===e}nextToken(){const e=this.lookahead;return this.lookahead=this.scanner.nextToken(),e}nextRegexToken(){const e=this.scanner.scanRegex();return this.nextToken(),e}newPrimaryExpression(){this.nextToken();const e=this.inheritGrammar(this.leftHandSideExpression,!1),t=this.match("(")?this.isolateGrammar(this.arguments):[];return new $(e,t)}parseExpression(){switch(this.lookahead.type){case ee.StringLiteral:case ee.NumericLiteral:case ee.BooleanLiteral:case ee.NullLiteral:case ee.RegularExpression:case ee.Template:case ee.Identifier:return this.isolateExpression();case ee.Punctuator:if("!"==this.lookahead.raw||"("==this.lookahead.raw||"+"==this.lookahead.raw||"++"==this.lookahead.raw||"-"==this.lookahead.raw||"--"==this.lookahead.raw||"/"==this.lookahead.raw||"["==this.lookahead.raw||"^"==this.lookahead.raw||"{"==this.lookahead.raw||"~"==this.lookahead.raw)return this.isolateExpression();break;case ee.Keyword:if("new"==this.lookahead.raw||"this"==this.lookahead.raw||"typeof"==this.lookahead.raw)return this.isolateExpression()}throw this.unexpectedTokenError(this.lookahead)}primaryExpression(){switch(this.lookahead.type){case ee.Keyword:if(this.matchKeyword("this"))return this.nextToken(),new M;break;case ee.Identifier:return this.lookahead.raw,new S(this.nextToken().raw);case ee.BooleanLiteral:case ee.NumericLiteral:case ee.NullLiteral:case ee.StringLiteral:return new P(this.nextToken().value);case ee.Punctuator:switch(this.lookahead.raw){case"(":return this.inheritGrammar(this.groupExpression);case"[":return this.inheritGrammar(this.arrayExpression);case"{":return this.inheritGrammar(this.objectExpression);case"/":return this.scanner.backtrack(1),this.inheritGrammar(this.regexExpression);default:throw this.unexpectedTokenError(this.lookahead)}case ee.Template:return this.inheritGrammar(this.templateLiteralExpression)}throw this.unexpectedTokenError(this.lookahead)}reinterpretPattern(e,t){switch(e.type){case l.Identifier:case l.ObjectPattern:case l.RestElement:return e;case l.AssignmentExpression:{const s=e;if("="!=s.operator)throw this.syntaxError(t,w.invalidDestructuringAssignmentTarget);if(p.isIdentifier(s.left))return new K(s.left,s.right);throw this.syntaxError(t,w.illegalPropertyInDeclarationContext)}case l.Property:{const{key:s,value:i,computed:r,shorthand:n}=e;if(n){if(p.isIdentifier(i))return new m(new S(i.name),new S(i.name),r,n);if(p.isAssignmentExpression(i))return new m(s,this.reinterpretPattern(i,t),r,n)}else{if(p.isArrayExpression(i)||p.isAssignmentExpression(i)||p.isIdentifier(i)||p.isObjectExpression(i))return new m(s,p.isIdentifier(i)?new S(i.name):this.reinterpretPattern(i,t),r,n);if(p.isMemberExpression(i))throw this.syntaxError(t,w.illegalPropertyInDeclarationContext)}throw this.syntaxError(t,w.invalidDestructuringAssignmentTarget)}case l.ArrayExpression:{const s=e,i=[];let r=0;for(const e of s.elements){if(e){if(e.type==l.Literal)throw this.syntaxError(t,w.invalidDestructuringAssignmentTarget);if(e.type==l.MemberExpression)throw this.syntaxError(t,w.illegalPropertyInDeclarationContext);if(e.type==l.SpreadElement&&r<s.elements.length-1)throw this.syntaxError(t,w.restParameterMustBeLastFormalParameter);i.push(this.reinterpretPattern(e,t))}else i.push(null);r++}return new W(i)}case l.ObjectExpression:{const s=e,i=[];let r=0;for(const e of s.properties){if(e.type==l.SpreadElement&&r<s.properties.length-1)throw this.syntaxError(t,w.restParameterMustBeLastFormalParameter);i.push(this.reinterpretPattern(e,t)),r++}return new V(i)}case l.SpreadElement:{const s=e;if(s.argument.type==l.AssignmentExpression)throw this.syntaxError(t,w.invalidDestructuringAssignmentTarget);return new J(this.reinterpretPattern(s.argument,t))}}throw this.unexpectedTokenError(t)}regexExpression(){const e=this.nextRegexToken();return new P(e.value)}restElement(){const e=this.lookahead;this.expect("...");const t=this.isolateGrammar(this.pattern,!0);if(t.type==l.AssignmentPattern)throw this.syntaxError(e,w.restParameterMayNotHaveAdefaultInitializer);return new J(t)}spreadExpression(){return this.expect("..."),new x(this.inheritGrammar(this.assignmentExpression))}syntaxError(e,t){return new X(t,e.lineNumber,e.start,e.start-e.lineStart+1)}unaryExpression(){if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("typeof")){const e=this.nextToken();return new z(this.inheritGrammar(this.unaryExpression),e.raw)}return this.inheritGrammar(this.updateExpression)}templateLiteralExpression(){const e=[],t=[];let s=this.nextToken();for(e.push(new A(s.value,s.raw,!!s.isTail));!s.isTail;)t.push(this.inheritGrammar(this.expression)),s=this.nextToken(),e.push(new A(s.value,s.raw,!!s.isTail));return new G(e,t)}updateExpression(){if(this.match("++")||this.match("--")){const e=this.nextToken().raw,t=this.lookahead,s=this.inheritGrammar(this.leftHandSideExpression,!0);if(!p.isIdentifier(s)&&!p.isMemberExpression(s))throw this.syntaxError(t,w.invalidLeftHandSideExpressionInPrefixOperation);return new Z(s,e,!0)}const e=this.lookahead,t=this.inheritGrammar(this.leftHandSideExpression,!0);if(this.match("++")||this.match("--")){if(!p.isIdentifier(t)&&!p.isMemberExpression(t))throw this.syntaxError(e,w.invalidLeftHandSideExpressionInPostfixOperation);const s=this.nextToken().raw;return new Z(t,s,!1)}return t}unexpectedTokenError(e){let t;switch(e.type){case ee.StringLiteral:t=w.unexpectedString;break;case ee.NumericLiteral:t=w.unexpectedNumber;break;case ee.EOF:t=w.unexpectedEndOfExpression;break;case ee.Template:t=(0,h.WU)(w.unexpectedToken,{token:""});break;default:t=(0,h.WU)(w.unexpectedToken,{token:e.raw})}return new X(t,e.lineNumber,e.start,e.start-e.lineStart+1)}}class ie{static wrapParenthesis(e){const t=e.clone,s=e.toString;return e.clone=()=>ie.wrapParenthesis(t.call(e)),e.toString=()=>`(${s.call(e)})`,e}static array(e){return new f(e)}static arrayPattern(e){return new W(e)}static arrowFunction(e,t){if(d(e))throw new Error(w.duplicateParameterNameNotAllowedInThisContext);return new F(e,t)}static assignment(e,t,s){return new v(e,t,s)}static assignmentPattern(e,t){return new K(e,t)}static assignmentProperty(e,t,s,i){return new m(e,t??e,s??!t,i??!t)}static binary(e,t,s){return ie.wrapParenthesis(new k(e,t,s))}static call(e,t){return new b(e,t??[])}static chain(e){return new B(e)}static conditional(e,t,s){return new T(e,t,s)}static identifier(e){return new S(e)}static literal(e){return new P(e)}static logical(e,t,s){return ie.wrapParenthesis(new I(e,t,s))}static member(e,t,s,i){return new L(e,t,s,i)}static new(e,t){return new $(e,t??[])}static object(e){return new N(e??[])}static objectPattern(e){return new V(e)}static parse(e){return se.parse(e)}static parenthesized(e){return new j(e)}static property(e,t,s,i){return new E(e,t??e,s??!t,i??!t)}static regex(e,t){return new U(e,t)}static rest(e){return new J(e)}static sequence(e){return new O(e)}static spread(e){return new x(e)}static this(){return new M}static taggedTemplate(e,t){return new q(e,t)}static template(e,t){return new G(e,t)}static templateElement(e,t,s){return new A(e,t,s)}static unary(e,t){return new z(e,t)}static update(e,t,s){return new Z(e,t,s)}}const re=ie;class ne extends Error{constructor(e,t){super(e),this.stack=`${e}\n${t}`}}class ue extends ne{}function ae(e){return e.map(((e,t)=>e.map((e=>"   ".repeat(t)+e)).join("\n"))).join("\n")}function oe(e,t){throw new ue(e,ae(t))}const he=['"',"'","`"];class ce{constructor(e){this.quasis=[],this.expressions=[],this.expressionEnd=0,this.expressionStart=0,this.index=0,this.source=e}get current(){return this.source[this.index]}get eof(){return this.index==this.source.length}static parse(e){return new ce(e).scan()}advance(){this.index++}collectTextFragment(e,t){const s=this.source.substring(e,t).replace(/(?<!\\)\\{/g,"{").replace(/\\\\{/g,"\\").replace(/{$/,"");this.quasis.push(re.templateElement(s,s,t>=this.source.length))}parse(e){try{let t=!1;for(;!this.eof&&"{"!=this.current||t;)t="\\"==this.current&&!t,t&&"\\\\{"==this.source.substring(this.index,this.index+3)&&(t=!1,this.advance()),this.advance();if((0==e||e<this.index)&&this.collectTextFragment(e,this.index+1),!this.eof){if(this.expressionStart=this.index+1,!this.scanBalance())throw new X("Unexpected end of expression",(this.source.match(/\n/g)?.length??0)+1,this.source.length-1,this.source.length);{this.expressionEnd=this.index-1;const e=xe(this.source.substring(this.expressionStart,this.expressionEnd));this.expressions.push(e),this.eof?this.expressions.length>0&&this.collectTextFragment(this.index,this.index):this.parse(this.index)}}}catch(e){throw(0,o.hu)(e instanceof X),Ee(this.source,this.source.substring(this.expressionStart,this.expressionEnd),e)}}scan(){return this.parse(0),re.template(this.quasis,this.expressions)}scanBalance(){let e=0;do{if(he.includes(this.current)&&!this.scanString())return!1;"{"==this.current&&e++,"}"==this.current&&e--,this.advance()}while(!this.eof&&e>0);return 0==e}scanString(){const e=this.current;if(this.advance(),e==this.current)return!0;let t=!1;if("`"==e){do{if(t="\\"==this.current&&!t,t||"${"!=this.source.substring(this.index,this.index+2))this.advance();else if(this.advance(),!this.scanBalance())return!1}while(!this.eof&&this.current!=e||t)}else do{t="\\"==this.current&&!t,this.advance()}while(!this.eof&&this.current!=e||t);return this.current==e}}const le=/^\s*(?:(?:var|let|const)\s+)?(\w+|\S.*\S)\s+(in|of)\s+(\w+|\S.*\S)$/s,pe=/(?<!(?<!\\)\\)(\{)(.*?)(\})/,De={},de={};function me(e,t,s){try{return e(s)}catch(e){throw(0,o.hu)(e instanceof X),Ee(t,s,e)}}function Ee(e,t,s){const i=e.indexOf(t),r=e.substring(0,i),n=r.match(/\n/g)?.length??0,u=t.includes("\n")?0:r.substring(Math.max(r.lastIndexOf("\n")+1,0),i).length;throw new X(s.message,s.lineNumber+n,s.index+r.length,s.column+u)}function xe(e){return e in De?De[e]:De[e]=re.parse(e)}function Ae(e){return e in De?De[e]:De[e]=ce.parse(e)}function fe(e){const t=`(${e}) => 0`;if(t in De)return De[t];try{return De[t]=xe(t).parameters[0]}catch(t){(0,o.hu)(t instanceof X);const s="Duplicate parameter name not allowed in this context"==t.message?"Cannot redeclare block-scoped variable":t.message;throw new X(s,t.lineNumber,t.index-1,e.includes("\n")?t.column:t.column-1)}}function Ce(e){if(e in de)return de[e];if(!le.test(e))throw new Error("Invalid for-loop statement");const[,t,s,i]=Array.from(le.exec(e)),r=me(t.startsWith("[")||t.startsWith("{")?fe:xe,e,t),n=me(xe,e,i);if(!p.isIdentifier(r)&&!p.isArrayPattern(r)&&!p.isObjectPattern(r))throw Ee(e,t,new X("Invalid left-hand side in for-loop",1,0,1));return de[e]={left:r,operator:s,right:n}}const Fe=new Set(["onabort","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpaste","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onsearch","onseeked","onseeking","onselect","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","onwheel"]);class ge extends class{visit(e){return p.isArrayExpression(e)?this.visitArrayExpression(e):p.isArrayPattern(e)?this.visitArrayPattern(e):p.isArrowFunctionExpression(e)?this.visitArrowFunctionExpression(e):p.isAssignmentExpression(e)?this.visitAssignmentExpression(e):p.isAssignmentProperty(e)?this.visitAssignmentProperty(e):p.isAssignmentPattern(e)?this.visitAssignmentPattern(e):p.isBinaryExpression(e)?this.visitBinaryExpression(e):p.isCallExpression(e)?this.visitCallExpression(e):p.isChainExpression(e)?this.visitChainExpression(e):p.isConditionalExpression(e)?this.visitConditionalExpression(e):p.isIdentifier(e)?this.visitIdentifier(e):p.isLiteral(e)?this.visitLiteral(e):p.isLogicalExpression(e)?this.visitLogicalExpression(e):p.isMemberExpression(e)?this.visitMemberExpression(e):p.isNewExpression(e)?this.visitNewExpression(e):p.isObjectExpression(e)?this.visitObjectExpression(e):p.isObjectPattern(e)?this.visitObjectPattern(e):p.isParenthesizedExpression(e)?this.visitParenthesizedExpression(e):p.isProperty(e)?this.visitProperty(e):p.isRegExpLiteral(e)?this.visitRegExpLiteral(e):p.isRestElement(e)?this.visitRestElement(e):p.isSequenceExpression(e)?this.visitSequenceExpression(e):p.isSpreadElement(e)?this.visitSpreadExpression(e):p.isTaggedTemplateExpression(e)?this.visitTaggedTemplateExpression(e):p.isTemplateLiteral(e)?this.visitTemplateLiteral(e):p.isTemplateElement(e)?this.visitTemplateElement(e):p.isThisExpression(e)?this.visitThisExpression(e):p.isUpdateExpression(e)?this.visitUpdateExpression(e):p.isUnaryExpression(e)?this.visitUnaryExpression(e):e}visitArrayExpression(e){for(const t of e.elements)t&&this.visit(t);return e}visitArrayPattern(e){for(const t of e.elements)t&&this.visit(t);return e}visitArrowFunctionExpression(e){for(const t of e.parameters)this.visit(t);return this.visit(e.body),e}visitAssignmentExpression(e){return this.visit(e.left),this.visit(e.right),e}visitAssignmentProperty(e){return this.visit(e.key),this.visit(e.value),e}visitAssignmentPattern(e){return this.visit(e.left),this.visit(e.right),e}visitBinaryExpression(e){return this.visit(e.left),this.visit(e.right),e}visitCallExpression(e){this.visit(e.callee);for(const t of e.arguments)this.visit(t);return e}visitChainExpression(e){return this.visit(e.expression),e}visitConditionalExpression(e){return this.visit(e.test),this.visit(e.alternate),this.visit(e.consequent),e}visitIdentifier(e){return e}visitLiteral(e){return e}visitLogicalExpression(e){return this.visit(e.left),this.visit(e.right),e}visitMemberExpression(e){return this.visit(e.object),this.visit(e.property),e}visitNewExpression(e){this.visit(e.callee);for(const t of e.arguments)this.visit(t);return e}visitObjectExpression(e){for(const t of e.properties)this.visit(t);return e}visitObjectPattern(e){for(const t of e.properties)this.visit(t);return e}visitParenthesizedExpression(e){return this.visit(e.argument),e}visitProperty(e){return this.visit(e.key),this.visit(e.value),e}visitRegExpLiteral(e){return e}visitRestElement(e){return this.visit(e.argument),e}visitSequenceExpression(e){for(const t of e.expressions)this.visit(t);return e}visitSpreadExpression(e){return this.visit(e.argument),e}visitTaggedTemplateExpression(e){return this.visit(e.callee),this.visit(e.quasi),e}visitTemplateLiteral(e){for(const t of e.quasis)this.visit(t);for(const t of e.expressions)this.visit(t);return e}visitTemplateElement(e){return e}visitThisExpression(e){return e}visitUnaryExpression(e){return this.visit(e.argument),e}visitUpdateExpression(e){return this.visit(e.argument),e}}{constructor(){super(...arguments),this.paths=[],this.brokenPath=!1,this.stack=[]}static observe(e){const t=new ge;return t.visit(e),t.commit(),t.paths}commit(){this.stack.length>1&&this.paths.push([...this.stack]),this.stack=[]}reset(){this.brokenPath=!1,this.stack=[]}rollback(){this.brokenPath=!0,this.stack=[]}visitArrayPattern(e){for(const t of e.elements)t&&!p.isIdentifier(t)&&this.visit(t);return e}visitArrowFunctionExpression(e){for(const t of e.parameters)p.isIdentifier(t)||this.visit(t);return e}visitAssignmentExpression(e){return this.visit(e.right),e}visitAssignmentPattern(e){return this.visit(e.right),e}visitAssignmentProperty(e){return p.isAssignmentPattern(e.value)&&this.visitAssignmentPattern(e.value),e}visitCallExpression(e){return this.rollback(),this.visit(e.callee),this.reset(),e.arguments.forEach(this.visit.bind(this)),e}visitLogicalExpression(e){return"??"==e.operator?this.visit(e.left):super.visitLogicalExpression(e),e}visitConditionalExpression(e){return this.visit(e.test),e}visitIdentifier(e){return"undefined"!=e.name&&(this.stack.unshift(e.name),this.commit()),e}visitMemberExpression(e){if(e.computed&&e.property.type!=l.Literal)this.reset(),this.visit(e.property);else if(e.optional)this.rollback();else if(!this.brokenPath){const t=p.isIdentifier(e.property)?e.property.name:`${e.property.evaluate({})}`;this.stack.unshift(t)}return this.visit(e.object),e}visitNewExpression(e){return this.rollback(),this.visit(e.callee),this.reset(),e.arguments.forEach(this.visit.bind(this)),e}visitParenthesizedExpression(e){return this.reset(),this.visit(e.argument),e}visitProperty(e){return e.computed&&this.visit(e.key),this.visit(e.value),e}visitRestElement(e){return p.isIdentifier(e.argument)||this.visit(e.argument),e}visitTaggedTemplateExpression(e){return this.rollback(),this.visit(e.callee),this.reset(),this.visit(e.quasi),e}visitThisExpression(e){return this.stack.unshift("this"),this.commit(),e}visitUpdateExpression(e){return this.rollback(),this.visit(e.argument),e}}const ve=Symbol("htmlx-parser:decomposed");var ye,ke;!function(e){e[e.Element=1]="Element",e[e.Text=3]="Text",e[e.Comment=8]="Comment"}(ye||(ye={})),function(e){e.If="#if",e.ElseIf="#else-if",e.Else="#else",e.For="#for",e.Inject="#inject",e.InjectKey="#inject.key",e.InjectScope="#inject.scope",e.Placeholder="#placeholder",e.PlaceholderKey="#placeholder.key",e.PlaceholderScope="#placeholder.scope"}(ke||(ke={}));const we=Object.values(ke);class be{constructor(e,t,s){this.document=e,this.name=t,this.index=0,this.name=t,this.stackTrace=s?[...s]:[[`<${t}>`],["#shadow-root"]]}static parse(e,t,s){const i=e.createElement("template");return i.innerHTML=s,new be(e,t).parse(i)}attributeToString(e){return e.value?`${e.name}="${e.value}"`:e.name}decomposeDirectives(e){const t=this.elementToTemplate(e),[s,...i]=this.enumerateDirectives(t.attributes);if(i.length>0){const e=t.cloneNode(!1);i.forEach((e=>t.removeAttribute(e.name))),e.removeAttribute(s.name),e.removeAttribute(`${s.name}.key`),e.removeAttribute(`${s.name}.scope`),this.markAsDecomposed(e),e.content.appendChild(t.content),t.content.appendChild(e)}return[t,s]}elementToTemplate(e){if(!("TEMPLATE"==e.nodeName)){const t=this.document.createElement("template"),s=e.cloneNode(!0);for(const e of Array.from(s.attributes).filter((e=>we.some((t=>e.name.startsWith(t))))))s.attributes.removeNamedItem(e.name),t.attributes.setNamedItem(e);return t.content.appendChild(s),e.parentNode.replaceChild(t,e),this.markAsDecomposed(s),this.markAsDecomposed(t),t}return e}*enumerateDirectives(e){const t=[ke.Inject,ke.Placeholder],s=new Set,i=new Set;for(let r=0;r<e.length;r++){const n=e[r];if(!i.has(n.name)){const r=this.attributeToString(n);let u=!1;for(const a of t)if(n.name==a||n.name==`${a}.key`||n.name==`${a}.scope`||n.name.startsWith(`${a}:`)){if(n.name==a&&e[`${a}.key`]||s.has(a)){oe(`Multiples ${a} directives on same element is not supported.`,this.stackTrace)}if(s.add(a),n.name==a)yield{key:"'default'",name:n.name,source:{key:"",value:r},type:a,value:n.value};else if(n.name.includes(":")){const[e,t]=n.name.split(":");if(!t){oe(`Directive ${a} has no key.`,this.stackTrace)}yield{key:`"${t}"`,name:n.name,source:{key:"",value:r},type:e,value:n.value}}else{i.add(`${a}.key`),i.add(`${a}.scope`);const[t,s]=n.name==`${a}.key`?[n.value,e[`${a}.scope`]?.value]:[e[`${a}.key`]?.value,n.value];yield{key:t??"'default'",name:n.name,source:{key:t?`${a}.key="${t}"`:"",value:s?`${a}.scope="${s}"`:""},type:a,value:s??""}}u=!0}u||(yield{key:"",name:n.name,source:{key:"",value:r},type:n.name,value:n.value})}}}*enumerateParsedNodes(e){let t=0;for(let s=0;s<e.childNodes.length;s++){const i=e.childNodes[s];if(i.nodeType==ye.Element||i.nodeType==ye.Text){this.isDecomposed(i)||this.pushToStack(i,s-t);const e=[...this.stackTrace];if((0,o.z9)(i,i.nodeType==ye.Element)){if(i.hasAttribute(ke.ElseIf)){oe(`Unexpected ${ke.ElseIf} directive. ${ke.ElseIf} must be used in an element next to an element that uses the ${ke.ElseIf} directive.`,e)}if(i.hasAttribute(ke.Else)){oe(`Unexpected ${ke.Else} directive. ${ke.Else} must be used in an element next to an element that uses the ${ke.If} or ${ke.ElseIf} directive.`,e)}if(this.hasTemplateDirectives(i)){this.index=s,yield this.parseDirectives(i,e,t),s=this.index,this.stackTrace.pop();continue}yield this.parseElement(i,e)}else yield this.parseTextNode(i,e),t++;this.stackTrace.pop()}else i.nodeType==ye.Comment&&(yield{type:u.Comment,value:i.textContent??""}),t++}}isDecomposed(e){return!!e[ve]}hasTemplateDirectives(e){return e.getAttributeNames().some((e=>we.some((t=>e==t||e.startsWith(`${ke.Inject}:`)||e.startsWith(`${ke.Placeholder}:`)))))}markAsDecomposed(e){e[ve]=!0}nodeToString(e){if((0,o.z9)(e,e.nodeType==ye.Text))return e.nodeValue;const t=Array.from(e.attributes).map(this.attributeToString).join(" ");return`<${e.nodeName.toLowerCase()}${0==e.attributes.length?"":" "}${t}>`}parse(e){return this.trimContent(e.content),{childs:this.enumerateParsedNodes(e.content),type:u.Fragment}}*parseAttributes(e,t){for(let s=0;s<e.attributes.length;s++){const i=e.attributes[s],r=this.attributeToString(i);if(i.name.startsWith("@")){const e=i.name.replace(/^@/,""),s=this.tryParseExpression(xe,i.value,r),n=p.isMemberExpression(s)||p.isArrowFunctionExpression(s)?s:re.arrowFunction([],s),a=p.isMemberExpression(n)?n.object:re.literal(null);yield{context:a,key:e,source:r,stackTrace:t,type:u.Event,value:n}}else if(i.name.startsWith("#")){const e=i.name.replace(/^#/,""),s=this.tryParseExpression(xe,i.value||"undefined",r),n=ge.observe(s);yield{key:e,observables:n,source:r,stackTrace:t,type:u.Directive,value:s}}else if(i.name.startsWith(":")||pe.test(i.value)&&(!/^on\w/.test(i.name)||!Fe.has(i.name))){const e=i.name.replace(/^::?/,""),s=(0,h.Wx)(e),n=i.name.startsWith("::"),a=!n&&i.name.startsWith(":"),o=!a&&!n,c=a?u.Oneway:n?u.Twoway:u.Interpolation,l=this.tryParseExpression(o?Ae:xe,i.value,r);n&&!this.validateMemberExpression(l,!0)&&oe(`Two way data bind cannot be applied to dynamic properties: "${i.value}"`,this.stackTrace);const p=ge.observe(l);c==u.Interpolation?(yield{key:i.name,type:u.Attribute,value:""},yield{key:i.name,observables:p,source:r,stackTrace:t,type:c,value:l}):c==u.Twoway?yield{left:s,right:p[0],source:r,stackTrace:t,type:c}:yield{key:s,observables:p,source:r,stackTrace:t,type:c,value:l}}else yield{key:i.name,type:u.Attribute,value:i.value}}}parseDirectives(e,t,s){const[i,r]=this.decomposeDirectives(e);if(r.type==ke.If){const e=[],n=this.tryParseExpression(xe,r.value,r.source.value),a={expression:n,fragment:this.parseTemplate(i),observables:ge.observe(n),source:r.source.value,stackTrace:t};e.push(a);let o=i;const h=this.stackTrace.pop();let l=this.index-s;for(;o.nextElementSibling&&c(o.nextElementSibling.getAttributeNames(),[ke.ElseIf,ke.Else]);){for(;o.nextSibling&&o.nextSibling!=o.nextElementSibling;){if(this.index++,o.nextSibling.nodeType==ye.Text&&""!=o.nextSibling.textContent?.trim()){this.pushToStack(o.nextSibling,this.index-s);const e=`Any content between conditional statement branches will be ignored.\n${ae(this.stackTrace)}`;console.warn(e),this.stackTrace.pop()}o=o.nextSibling}const t=o.nextElementSibling,[i,r]=this.decomposeDirectives(o.nextElementSibling);this.isDecomposed(t)||this.pushToStack(t,++l);const n=r.type==ke.Else?"true":r.value;this.index++;const u=this.tryParseExpression(xe,n,r.source.value),a={expression:u,fragment:this.parseTemplate(i),observables:ge.observe(u),source:r.source.value,stackTrace:[...this.stackTrace]};e.push(a),o=i,this.stackTrace.pop()}return this.stackTrace.push(h),{branches:e,type:u.Choice}}if(r.type==ke.For){const e=r.value,{left:s,right:n,operator:a}=this.tryParseExpression(Ce,e,r.source.value);return{fragment:this.parseTemplate(i),left:s,observables:ge.observe(n),operator:a,right:n,source:r.source.value,stackTrace:t,type:u.Loop}}if(r.type==ke.Placeholder){const{key:e,source:s,value:n}=r,a=this.tryParseExpression(xe,e,s.key),o=this.tryParseExpression(xe,`${n||"{ }"}`,s.value),h=ge.observe(a),c=ge.observe(o);return{fragment:this.parseTemplate(i),key:a,observables:{key:h,value:c},source:s,stackTrace:t,type:u.Placeholder,value:o}}const{key:n,source:a,value:o}=r,h=/^\s*\{/.test(o),l=this.tryParseExpression(xe,n,a.key),p=this.tryParseExpression(h?fe:xe,`${o||"{ }"}`,a.value),D=ge.observe(l),d=ge.observe(p);return{fragment:this.parseTemplate(i),key:l,observables:{key:D,value:d},source:a,stackTrace:t,type:u.Injection,value:p}}parseElement(e,t){return{attributes:this.parseAttributes(e,t),childs:"SCRIPT"==e.nodeName||"STYLE"==e.nodeName?e.textContent?[{type:u.Text,value:e.textContent}]:[]:this.enumerateParsedNodes(e),tag:e.nodeName.toLowerCase(),type:u.Element}}parseTemplate(e){return new be(this.document,this.name,this.stackTrace).parse(e)}parseTextNode(e,t){if((0,o.hu)(e.nodeValue),pe.test(e.nodeValue)){const s=this.tryParseExpression(Ae,e.nodeValue,e.nodeValue);return{observables:ge.observe(s),source:e.nodeValue,stackTrace:t,type:u.TextInterpolation,value:s}}var s;return{type:u.Text,value:(s=e.nodeValue,s.replace(/(?<!\\)\\{/g,"{").replace(/\\\\{/g,"\\"))}}pushToStack(e,t){const s=[];t>0&&s.push(`...${t} other(s) node(s)`),s.push(this.nodeToString(e)),this.stackTrace.push(s)}trimContent(e){if(e.firstChild&&e.firstChild!=e.firstElementChild)for(;e.firstChild.nodeType==ye.Text&&""==e.firstChild.textContent.trim();)e.firstChild.remove();if(e.lastChild&&e.lastChild!=e.lastElementChild)for(;e.lastChild.nodeType==ye.Text&&""==e.lastChild.textContent.trim();)e.lastChild.remove()}tryParseExpression(e,t,s){try{return e(t)}catch(e){(0,o.hu)(e instanceof X);oe(`Parsing error in '${s}': ${e.message} at position ${e.index}`,this.stackTrace)}}validateMemberExpression(e,t){return!(t||!p.isThisExpression(e)&&!p.isIdentifier(e))||!(!p.isMemberExpression(e)||e.optional||e.computed&&!p.isLiteral(e.property))&&this.validateMemberExpression(e.object,!1)}}var Be=s(25);const Te=Symbol("htmlx:block");class Se{constructor(){this.disposed=!1,this.start=document.createComment("#start"),this.end=document.createComment("#end"),this.start[Te]=new Set([this]),this.end[Te]=new Set([this])}isAnchor(e){return!!e[Te]}optimize(){if(this.start.nextSibling&&this.start.nextSibling!=this.end&&this.isAnchor(this.start.nextSibling)&&this.end.previousSibling&&this.end.previousSibling!=this.start&&this.isAnchor(this.end.previousSibling)){const e=this.start.nextSibling,t=this.end.previousSibling,s=this.start,i=this.end;for(const t of s[Te].values())t.start=e,e[Te].add(t);for(const e of i[Te].values())e.end=t,t[Te].add(e);s.remove(),i.remove()}}connect(e){e.appendChild(this.start),e.appendChild(this.end)}clear(){for(const e of(0,Be.L2)(this.start,this.end))e.remove()}dispose(){this.disposed||(this.clear(),1==this.start[Te].size?this.start.remove():this.start[Te].delete(this),1==this.end[Te].size?this.end.remove():this.end[Te].delete(this),this.disposed=!0)}setContent(e,t=!0){this.end.parentNode.insertBefore(e,this.end),t&&this.optimize()}}var Pe=s(28),_e=s(14);class Ie{constructor(e){this.context=e,this.cancellationTokenSource=new Pe.Z,this.subscriptions=[],this.currentDisposable=null,this.disposed=!1,this.task=()=>{for(const e of this.context.branches)if((0,Be.dJ)(this.context.scope,e[0],e[3],e[4])){if(e!=this.currentBranch){this.currentBranch=e,this.currentDisposable?.dispose(),this.context.block.clear();const[t,s]=e[2]();this.context.block.setContent(t),this.currentDisposable=s(this.context.parent,this.context.host,this.context.scope,this.context.directives)}return}this.currentDisposable?.dispose(),this.context.block.clear(),this.currentBranch=void 0};const t=()=>{_e.p.enqueue(this.task,"normal",this.cancellationTokenSource.token)};for(const s of this.context.branches)this.subscriptions.push((0,Be.tx)(e.scope,s[1],(()=>t()),!0,s[3],s[4]));t()}dispose(){this.disposed||(this.cancellationTokenSource.cancel(),this.currentDisposable?.dispose(),this.subscriptions.forEach((e=>e.unsubscribe())),this.context.block.dispose(),this.disposed=!0)}}var Le=s(34),$e=s(30);function Ne(e,t,s,i,r){return(n,u)=>{const a=(0,Be.dJ)(u,s,i,r),o=(0,Be.dJ)(u,t,i,r).bind(a??n);return n.addEventListener(e,o),{dispose:()=>n.removeEventListener(e,o)}}}var je=s(29);const Ue=Symbol("htmlx:metadata");class Oe{constructor(){this.defaults=new Map,this.injections=new Map,this.placeholders=new Map}static from(e){return Reflect.has(e,Ue)||Reflect.defineProperty(e,Ue,{configurable:!1,enumerable:!1,value:new Oe}),Reflect.get(e,Ue)}}class qe{constructor(e){this.context=e,this.cancellationTokenSource=new Pe.Z,this.disposed=!1,this.key="",this.task=()=>{this.disposeCurrentInjection(),this.key=String((0,Be.dJ)(this.context.scope,this.context.key,this.context.source?.key,this.context.stackTrace));const e={directives:this.context.directives,factory:this.context.factory,host:this.context.host,parent:this.context.parent,scope:this.context.scope,source:this.context.source?.value,stackTrace:this.context.stackTrace,value:this.context.value};this.metadata.injections.set(this.key,e);const t=this.metadata.placeholders.get(this.key);t&&t(e)},this.metadata=Oe.from(e.parent);const t=()=>{_e.p.enqueue(this.task,"normal",this.cancellationTokenSource.token)};this.keySubscription=(0,Be.tx)(e.scope,e.observables[0],t,!0,e.source?.key,e.stackTrace),this.subscription=(0,Be.tx)(e.scope,e.observables[1],t,!0,e.source?.value,e.stackTrace),this.task()}disposeCurrentInjection(){this.key&&(this.metadata.injections.delete(this.key),this.metadata.defaults.get(this.key)?.())}dispose(){this.disposed||(this.cancellationTokenSource.cancel(),this.disposeCurrentInjection(),this.keySubscription.unsubscribe(),this.subscription.unsubscribe(),this.disposed=!0)}}function Ge(e,t,s,i,r){return(n,u)=>{const a=()=>n.setAttribute(e,`${t(u)}`),o=(0,Be.tx)(u,s,a,!0,i,r);return a(),{dispose:()=>o.unsubscribe()}}}class Me{constructor(){this.entries=[],this.changed=!1,this.cursor=0,this.stored=0}trim(){this.stored>0&&(this.entries.splice(this.cursor,this.stored-this.cursor).forEach((e=>(e[2].dispose(),e[1].dispose()))),this.stored=0)}add(e,t,s){this.entries.push([e,t,s])}hasChanges(e,t){return!(!this.changed&&Object.is(t,this.entries[e]?.[0]))&&(this.changed||(this.changed=!0,this.cursor=e),!0)}resize(e){this.changed||(this.cursor=e),this.trim(),this.changed=!1,this.cursor=0,this.stored=e}}class Re{constructor(e){this.context=e,this.cache=new Me,this.cancellationTokenSource=new Pe.Z,this.disposed=!1,this.task=()=>{if(this.disposed)return;const e=(0,Be.dJ)(this.context.scope,this.context.right,this.context.source,this.context.stackTrace);if(e[Symbol.iterator]().next().done)this.cache.resize(0);else{const t=this.iterator(e,this.action),s=()=>{this.cache.resize(t),this.context.block.setContent(this.tree,!1)};_e.p.enqueue(s,"high",this.cancellationTokenSource.token)}},this.tree=document.createDocumentFragment(),this.iterator="in"==this.context.operator?this.forInIterator:this.forOfIterator;const t=()=>{_e.p.enqueue(this.task,"normal",this.cancellationTokenSource.token)};this.subscription=(0,Be.tx)(e.scope,e.observables,t,!0,e.source,e.stackTrace),t()}action(e,t){if(this.cache.hasChanges(t,e)){const s=(0,Be.Yo)(this.context.scope,this.context.left,e,this.context.source,this.context.stackTrace),i={$index:t,...this.context.scope,...s},[r,u]=this.context.factory(),a=new Se;a.connect(this.tree),a.setContent(r);const o=t+1;Math.ceil(o/Re.maximumAmount)*Re.maximumAmount==o&&(this.cache.trim(),this.context.block.setContent(this.tree,!1));const h=[u(this.context.parent,this.context.host,i,this.context.directives),n.Z.from(i)],c={dispose:()=>h.splice(0).forEach((e=>e.dispose()))};this.cache.add(e,a,c)}}forOfIterator(e){let t=0;for(const s of e){const e=t++;_e.p.enqueue((()=>this.action(s,e)),"high",this.cancellationTokenSource.token)}return t}forInIterator(e){let t=0;for(const s in e){const e=t++;_e.p.enqueue((()=>this.action(s,e)),"high",this.cancellationTokenSource.token)}return t}dispose(){this.disposed||(this.cancellationTokenSource.cancel(),this.cache.resize(0),this.subscription.unsubscribe(),this.context.block.dispose(),this.disposed=!0)}}function ze(e,t,s,i,r){return(n,u)=>{let a;"class"==e||"style"==e?a="class"==e?()=>n.setAttribute(e,(0,Be.$o)((0,Be.dJ)(u,t,i,r))):()=>n.setAttribute(e,(0,Be.Ve)((0,Be.dJ)(u,t,i,r))):((0,Be.w9)(n,e,i,r),a=()=>{n[e]=(0,Be.dJ)(u,t,i,r)});const o=(0,Be.tx)(u,s,a,!0,i,r);return a(),{dispose:()=>o.unsubscribe()}}}Re.maximumAmount=1e3;class He{constructor(e){this.context=e,this.cancellationTokenSource=new Pe.Z,this.currentDisposable=null,this.disposed=!1,this.key="",this.lazyInjectionCancellationTokenSource=new Pe.Z,this.subscription=null,this.applyInjection=()=>{const e=this.metadata.injections.get(this.key);this.inject(e)},this.applyLazyInjection=()=>{this.lazyInjectionCancellationTokenSource=new Pe.Z,_e.p.enqueue(this.applyInjection,"low",this.lazyInjectionCancellationTokenSource.token)},this.inject=e=>{this.lazyInjectionCancellationTokenSource.cancel(),this.currentDisposable?.dispose(),this.currentDisposable=null,this.subscription?.unsubscribe(),this.subscription=null;const t=(this.injectionContext=e)?this.task:this.defaultTask,s=()=>{_e.p.enqueue(t,"normal",this.cancellationTokenSource.token)};this.subscription=(0,Be.tx)(this.context.scope,this.context.observables[1],s,!0,this.context.source?.value,this.context.stackTrace),s()},this.onKeyChange=()=>{this.key&&(this.metadata.defaults.delete(this.key),this.metadata.placeholders.delete(this.key)),this.key=String((0,Be.dJ)(this.context.scope,this.context.key,this.context.source?.key,this.context.stackTrace)),this.metadata.defaults.set(this.key,this.applyLazyInjection),this.metadata.placeholders.set(this.key,this.inject),this.applyLazyInjection()},this.task=()=>{(0,o.hu)(this.injectionContext),this.currentDisposable?.dispose(),this.context.block.clear();const e=(0,Be.dJ)(this.context.scope,this.context.value,this.context.source?.value,this.context.stackTrace),t=(0,Be.Yo)(this.context.scope,this.injectionContext.value,e,this.injectionContext.source,this.injectionContext.stackTrace),s={...this.injectionContext.scope,...t},[i,r]=this.injectionContext.factory();this.context.block.setContent(i);const u=[r(this.injectionContext.parent,this.injectionContext.host,s,this.injectionContext.directives),n.Z.from(s)];this.currentDisposable={dispose:()=>u.splice(0).forEach((e=>e.dispose()))}},this.defaultTask=()=>{this.currentDisposable?.dispose(),this.context.block.clear();const[e,t]=this.context.factory();this.context.block.setContent(e),this.currentDisposable=t(this.context.parent,this.context.host,this.context.scope,this.context.directives)},this.metadata=Oe.from(e.host),this.keySubscription=(0,Be.tx)(e.scope,e.observables[0],this.onKeyChange,!0,e.source?.key,e.stackTrace),this.onKeyChange()}dispose(){this.disposed||(this.cancellationTokenSource.cancel(),this.currentDisposable?.dispose(),this.keySubscription.unsubscribe(),this.subscription?.unsubscribe(),this.metadata.defaults.delete(this.key),this.metadata.placeholders.delete(this.key),this.context.block.dispose(),this.disposed=!0)}}var Ze=s(31);function We(e,t,s,i){return(r,n)=>{(0,Be.w9)(r,e,s,i),(0,Be.p9)(n,t,s,i);const u=(0,Be.he)(r,[e],n,t,s,i);return{dispose:()=>u.unsubscribe()}}}var Ke=s(32);class Ve{static mapAttributes(e){const t=[],s=[];for(const i of e)switch(i.type){case u.Attribute:t.push([i.key,i.value]);break;case u.Directive:s.push((0,Le.Z)(i.key,(e=>i.value.evaluate(e)),i.observables,i.source,i.stackTrace));break;case u.Event:s.push(Ne(i.key,(e=>i.value.evaluate(e)),(e=>i.context?.evaluate(e)),i.source,i.stackTrace));break;case u.Interpolation:s.push(Ge(i.key,(e=>i.value.evaluate(e)),i.observables,i.source,i.stackTrace));break;case u.Oneway:s.push(ze(i.key,(e=>i.value.evaluate(e)),i.observables,i.source,i.stackTrace));break;case u.Twoway:default:s.push(We(i.left,i.right,i.source,i.stackTrace))}return[t,s]}static mapChilds(e){const t=[];for(const s of e)t.push(Ve.compileDescriptor(s));return t}static compileDescriptor(e){switch(e.type){case u.Element:return(0,$e.Z)(e.tag,...Ve.mapAttributes(e.attributes),Ve.mapChilds(e.childs));case u.Text:return(0,Ze.Z)(e.value);case u.TextInterpolation:return i=t=>e.value.evaluate(t),r=e.observables,n=e.source,a=e.stackTrace,()=>{const e=document.createTextNode("");return[e,(t,s,u)=>{const o=()=>{e.nodeValue=String((0,Be.dJ)(u,i,n,a))},h=(0,Be.tx)(u,r??[],o,!0,n,a);return o(),{dispose:()=>h.unsubscribe()}}]};case u.Choice:return s=e.branches.map((e=>[t=>e.expression.evaluate(t),e.observables,Ve.compileDescriptor(e.fragment),e.source,e.stackTrace])),()=>{const e=document.createDocumentFragment(),t=new Se;return t.connect(e),[e,(e,i,r,n)=>new Ie({parent:e,host:i,scope:r,block:t,branches:s,directives:n})]};case u.Loop:return function(e,t,s,i,r,n,u){return()=>{const a=document.createDocumentFragment(),o=new Se;return o.connect(a),[a,(a,h,c,l)=>new Re({block:o,directives:l,factory:r,host:h,left:e,observables:i,operator:t,parent:a,right:s,scope:c,source:n,stackTrace:u})]}}(((t,s)=>e.left.evaluate(t,s)),e.operator,(t=>e.right.evaluate(t)),e.observables,Ve.compileDescriptor(e.fragment),e.source,e.stackTrace);case u.Placeholder:return function(e,t,s,i,r,n){return()=>{const u=document.createDocumentFragment(),a=new Se;return a.connect(u),[u,(u,o,h,c)=>new He({block:a,directives:c,factory:i,host:o,key:e,observables:s,parent:u,scope:h,source:r,stackTrace:n,value:t})]}}((t=>e.key.evaluate(t)),(t=>e.value.evaluate(t)),[e.observables.key,e.observables.value],Ve.compileDescriptor(e.fragment),e.source,e.stackTrace);case u.Injection:return function(e,t,s,i,r,n){return()=>{const u=document.createDocumentFragment(),a=new Se;return a.connect(u),[u,(u,o,h,c)=>new qe({block:a,directives:c,factory:i,host:o,key:e,observables:s,parent:u,scope:h,source:r,stackTrace:n,value:t})]}}((t=>e.key.evaluate(t)),((t,s)=>e.value.evaluate(t,s)),[e.observables.key,e.observables.value],Ve.compileDescriptor(e.fragment),e.source,e.stackTrace);case u.Comment:return t=e.value,()=>[document.createComment(t),()=>({dispose:()=>{}})];case u.Fragment:default:return(0,je.Z)(Ve.mapChilds(e.childs))}var t,s,i,r,n,a}static compile(e,t){const s=be.parse(window.document,e,t),i=Ve.compileDescriptor(s);return new Ke.Z(i)}}function Je(e){const t=new CSSStyleSheet;return t.replaceSync(e),t.toString=()=>e,t}var Ye=s(21),Xe=s(23),Qe=s(22),et=s(24);function tt(e,t){return s=>{if(s.prototype instanceof Ye.Z){const i=Qe.Z.from(s),u="object"==typeof t?.template?t.template:Ve.compile(e,t?.template??"");if(t?.style){const e=Array.isArray(t.style)?t.style:[t.style];i.styles.push(...e.map(Je))}const a=t?.directives?new Map([...et.a,...Object.entries(t.directives)]):et.a;i.template=u;const o={construct:(e,t,s)=>{const i=Reflect.construct(e,t,s);r.Z.from(e).finish(i);const u={host:i},o=Xe.Z.from(i).activator(i.shadowRoot,i,u,a);return n.Z.from(i).add(o),n.Z.from(i).add(n.Z.from(u)),i}};r.Z.from(s).hooked=!0;const h=new Proxy(s,o);return window.customElements.define(e,h,t),h}return window.customElements.define(e,s,t),s}}},34:(e,t,s)=>{s.d(t,{Z:()=>u});var i=s(12),r=s(25),n=s(26);function u(e,t,s,u,a){return(o,h,c)=>{const l=[],p=c.get(e);if(!p)throw new n.Z(`Unregistered directive #${e}.`,(0,r.bT)(a??[]));const D={element:o,key:e,observables:s,scope:h,source:u,stackTrace:a,value:t};return(0,i.z9)(p,!p.prototype)?l.push(p(D)):l.push(new p(D)),{dispose:()=>l.splice(0).forEach((e=>e.dispose()))}}}},30:(e,t,s)=>{function i(e,t,s,i){return()=>{const r=document.createElement(e);if(t)for(const e of t)r.setAttribute(e[0],e[1]);const n=[],u=[];if(i)for(const e of i){const[t,s]=e();"dispose"in t&&u.push(t),r.appendChild(t),n.push(s)}return[r,(e,t,i,a)=>{for(const e of n)u.push(e(r,t,i,a));if(s)for(const e of s)u.push(e(r,i,a));return r.dispatchEvent(new Event("bind")),{dispose:()=>u.splice(0).forEach((e=>e.dispose()))}}]}}s.d(t,{Z:()=>i})},29:(e,t,s)=>{function i(e){return()=>{const t=document.createDocumentFragment(),s=[];for(const i of e){const[e,r]=i();t.appendChild(e),s.push(r)}return[t,(e,t,i,r)=>{const n=[];for(const u of s)n.push(u(e,t,i,r));return{dispose:()=>n.splice(0).forEach((e=>e.dispose()))}}]}}s.d(t,{Z:()=>i})},31:(e,t,s)=>{function i(e){return()=>{const t=document.createTextNode("");return t.nodeValue=e,[t,()=>({dispose:()=>{}})]}}s.d(t,{Z:()=>i})},32:(e,t,s)=>{s.d(t,{Z:()=>i});class i{constructor(e){this.factory=e}create(){const[e,t]=this.factory();return{activator:t,content:e}}}}}]);